######################################################################################################
######################################################################################################
#### JAGS model file written by runjags version 2.0.4-2 on 2019-10-05 17:53:22 
######################################################################################################
######################################################################################################

model{
for(k in 1:max(year_no)){
for(j in 1:max(season_weeks)){
#this fits the blended model to your observed data. 
y[k,j] ~ dnorm(mu[k,j],tau_obs)
}
#### Process Model
for(j in 2:max(season_weeks)){
mu[k,j]~dnorm(mu[k,j-1],tau_proc) 
}
#Loops through number of years and defines prior for each year
mu[k,1] ~ dnorm(x_ic,tau_ic) #keep in mind you'll need to index like a matrix 
}
#### Priors
tau_proc ~ dgamma(a_proc,r_proc)
tau_obs ~ dgamma(a_obs, r_obs)
}
#monitor# tau_proc, tau_obs, mu

######################################################################################################
######################################################################################################
#### Initial values 
######################################################################################################
######################################################################################################

inits{
".RNG.state" <- c(1052901339, 36475110)
"mu" <- structure(c(-5.05504155337444, -5.20780462302479, -5.10171702384735, -5.009449313848, -5.18309841180531, -4.94955311427758, -3.95427822428928, -1.60613602954123, -5.84805794806659, -4.57101184175107, -6.40576969707103, -4.48091537589583, -2.8923842941039, -3.07742652064383, -7.04704534842374, -3.43094398384746, -4.59202698800855, -4.64329371693746, -2.66571063978927, -3.23252003501034, -6.14348991913455, -1.90706570406797, -3.39096068696892, -2.4001672583426, -4.16314915240201, -2.46186773225222, -6.12308363750912, -1.3302003431439, -3.14796098690203, -1.16759802944232, -4.83951624044585, 0.403902378851626, -5.57367887704087, -2.12079505415485, -4.08594368097381, -0.142220000329223, -3.9026158759872, -1.12126770595277, -4.4495936046628, -1.02579059345628, -3.49945163395512, 1.31006677716041, -1.30175824964548, -1.46989932760019, -2.43379965218908, -1.21109329783413, -2.8931909707867, 0.804348127899608, -0.606463032358272, 0.305172223071611, -1.70252315437321, -2.68558197753837, -2.79669666065268, 0.72305805859043, 1.45860190221916, -1.7381669047704, -1.25572830457788, -1.86275604558407, -1.97234931232901, 1.06181847010463, -1.32546250963377, 1.75327678402972, -0.194335568167836, -0.102097863825575, -2.03568561087144, 1.2783596974249, -1.43758784403354, 4.05159224376617, -1.49136111672654, 1.17336199451746, -0.670910152339384, -0.516438138248659, 1.14603676627261, 3.4857406987748, -0.301047531861882, -1.12902096370795, -0.370592561141514, 0.879479715806122, -0.455019008051854, 1.57242242278604, 0.290374901568471, -2.18899222971569, 0.541433338506359, -1.12615874613662, 0.187732347574305, -0.00958907634053147, -0.745222001522124, -0.851711318875863, 0.558451345880277, 0.0627553856478003, -0.495913233847657, -0.318553259112579, -0.703108908856193, -0.206346656955292, 2.29725203516965, 0.0665210807989026, -1.40299243723263, -1.40321752024101, -3.32349125455308, -0.588800910077761, 2.83443394544196, 0.647417169925618, 0.163675291297796, -3.55790595914274, -3.54376584725528, -1.79372208443939, 2.77713652954051, -2.08027205269156, 0.77411058183295, -4.53833884421196, -6.71177097148636, -2.89936177524832, -0.050621525660152, -3.8972286845242, -0.446961642834336, -3.98552346768065, -5.4864531666722, -3.50732790352366, -1.50968282801351, -3.29293767076677), .Dim = c(6, 20))
"tau_obs" <- 1.77062983899705
"tau_proc" <- 0.541250195470996
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Marsaglia-Multicarry"
}

inits{
".RNG.state" <- c(-90416664, -285939599)
"mu" <- structure(c(-5.09802273239679, -4.86875189937298, -5.14647330922378, -4.96489572565519, -4.97653877285286, -5.15107672663033, -4.16374371147205, -3.08925071698903, -4.27497537460136, -4.59590550222427, -5.80474436839481, -4.62888796488881, -3.7964536750698, -4.49840358300979, -6.43216446741059, -2.12768198977079, -5.76798256803395, -5.34621590507307, -2.99432704015256, -2.61984110326659, -5.37522450621598, -1.03087526033782, -3.8414463182285, -1.87222919495479, -3.363159242292, -2.32820980155645, -6.26355583073502, -1.32205632230477, -4.58176398811425, -1.08994069546781, -5.01511948241769, -0.114727336743225, -6.6339197677251, -3.07116106211857, -3.83878197039041, 0.158326360578017, -2.77047569986575, -1.60885915605817, -4.59734156795325, -2.1175385103056, -3.78639296595044, 0.995302626592852, -2.36282724469937, -2.14310856546478, -2.35433114918102, -2.64641991191343, -3.63030096939441, 0.623693340799887, 0.365014254876338, -0.160345234392529, -2.6480373126984, -1.82858764269938, -2.94526245756137, 0.150654128962029, -0.769137768404626, -1.87678743493606, -1.64950363453631, -0.0492649249439807, -1.66011968546925, 0.206022353087417, -1.05864153976956, 1.97189054112793, -1.06720808198029, 0.391659300750736, -1.25112636633985, -0.192471719490008, -1.59281121315131, 2.86433388328281, -0.828914370146401, 0.720530859001795, -0.705424973990194, 0.918259520351784, -0.561932253981301, 3.94959670844981, -0.136937744965744, -0.827004750745334, 0.0743980421386327, -0.232723920198125, -0.689178155237195, 1.23553047213787, 0.584478485442214, -2.15206601156929, 0.608119066728533, -0.946080193454131, -1.67924256510485, -1.16842251585634, 0.243878021650198, -1.06939589320873, 0.890551822281549, -0.0156916479566396, -1.20248744286452, -0.261203490784011, -0.970101862985144, -1.55760834926993, 2.7401181651916, -0.156538628792745, -1.4611406790076, -0.548795911105203, -2.1728485732571, -2.15629905178073, 1.45654015783068, 0.0833708604495, 0.0520858807648956, -2.93670441777024, -3.57614502784761, -2.60709530673252, 2.4637888895742, -1.57732956498414, -1.45449513939225, -3.92791367827616, -5.2350313787139, -3.14226672206217, -0.160984704828185, -3.73186285458663, -0.265166189282797, -3.92555225452239, -5.2557459945915, -3.7292391750183, -0.570011149035603, -2.13947372711452), .Dim = c(6, 20))
"tau_obs" <- 1.37673044127779
"tau_proc" <- 0.688561550359663
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Super-Duper"
}

inits{
".RNG.state" <- c(163, -122510167, -2083796412, 2133332171, 1131777145, 2144941710, 1445128806, -22021918, -1600424441, -1294273501, 1267619473, -1976210687, -1262846199, -1927194185, 1036473431, -1065827229, 282342579, 1894646937, -514994287, 860206228, -2133065792, -371714229, 915233105, -973579333, -297886212, -179231096, 759394379, -325578546, -762849031, 2131747593, -1924023280, 407149228, 2073553921, 422048618, 156408534, 512207883, -1012135722, -919799060, 997675293, -1560686819, 1747242580, 2040254579, 1845742507, 1513066355, -1053572961, 1090782698, -2144521611, 534230106, -2116541926, 567390129, -359663262, -1918691509, -1796680095, 90982548, 100483499, 135392128, -1363856193, -1052493966, -2137894077, -391261853, 1367024310, -1745241688, -706221899, -1326169262, -1884836501, 1988915033, -594283130, 1234170523, -338780346, 1092137526, -108652357, -135598725, 1266884982, -240640938, 2030974527, 184628504, -1632234119, 1845119368, 381504500, -955089785, -422299238, -1825665315, -894787849, -1694650806, -1478986225, -2103762319, -2091555984, -839551170, -483413292, 1862681252, -1784771939, 818136637, -220045884, -2049175347, 1922121652, -443729234, 1029853767, -309970799, -1560857214, 1751632619, -482862785, 269185983, -145669822, 1836131786, 1331870151, 979443641, 1829862957, -1622270301, 1256986598, 1483637145, -284367282, -540135629, -1844345417, -1034915233, 962754324, 1721040227, 1777115333, -63433279, 225863329, -651857827, 265525947, 394187681, -1706381354, 36777998, 1573939982, -1461992482, 1209541261, 304239499, -486940324, -2043187884, 1625319068, -1778700133, -1573231013, -710907028, 1071961374, 636709981, 260989385, -2091922389, 1565498654, -1699361773, 753190663, -631488679, -1537440844, 647703545, -1131338693, -803503009, -287921446, -508660001, -1706275738, 432870694, 1087615366, -252479746, -1368054019, -1194527302, 1398556546, 1433829561, -1900082328, 1058920178, 948347745, -567254270, 633001981, 530845347, 1364280120, -1654757742, 2044324980, 597310718, 2111492806, 261368883, 1604006828, 54098621, -1546836116, 1185638110, 1208931016, -958725181, 1160776252, 1464194078, 2040377713, -2018921809, 449965473, -1566078692, 1280295571, -985775280, -1123022664, 1988493115, 1204631843, 173449078, -98778474, 217107575, -880847543, 164209003, -1851240930, 1130059048, 919667145, -2089151084, -1529824085, 1888810477, 1143615230, 778740603, -1953671496, -1875282931, 2141950548, -64708030, 187208598, 981211055, -688306503, -1242791598, 1673628223, -399719367, 1033878289, 929176678, -636681904, 1358833864, 1826221829, -134303306, 302438858, -1936645907, -45089717, -1494119017, -1351189889, 188382526, 1712860970, -1563469325, 1183383227, -1374430422, 1017375721, 2017483052, 896228631, -1579908713, -1501382264, -710747973, 940672559, 1067638562, -947632100, 1320521756, -886869302, 948545460, 299673961, 279672665, 1359291152, -1992551488, -1429977958, 467478198, 328783049, -69353891, -283467762, 530802316, 890074617, 829036143, -355903313, -494447611, 2112238869, 1552077082, -1684752016, -534619155, 365647846, -1388407341, 1207770877, -1131193377, 10009078, -866759591, -1957660567, -242601738, 2111188404, 1449311699, -1440990823, -2001017542, 228933064, 1177562983, -1142786635, 2125012493, -2096024476, 303670400, -676162234, -1484648085, 1484513891, 1595250934, -1659775151, 640798511, -767263903, 1605553580, -940711315, 1724516688, 973120092, -1890449047, -1694105869, 88536017, -1377792653, 678059459, 1651603100, -1915900161, -95421771, -1877265613, 2070387438, -46038861, -1822204704, -144113818, -995279953, 106378659, 641199340, -1358037225, -1260354878, 1893191777, 721597080, 799760604, -84203693, -658857186, -1639010380, -458802413, -533075015, 1662111739, 329797329, -1649447730, 979267721, -1422488696, -1724723125, -460562402, 3678292, 1416220434, 1323367484, 715749405, 694552054, 1261458020, -898639978, -122888702, 1442924866, -1235512503, -1217353981, 973638444, -1969453741, 161966450, 1401392114, -7047406, -1203453227, -703206035, 1551529764, -1932837422, 609808538, -1205632454, 682614769, 1504788775, 1848066022, -217830406, -170055834, -1850363399, -678465514, -1705485690, 309590031, -1302052233, 55654273, -1117477143, 264069483, -1852581715, 467490066, -875300873, 569738642, -1171050819, 2079777996, -1080936910, 229042101, 1318095949, 13600063, 1834051565, 1481976197, 1006754660, 2032316452, 477731941, -240979981, -264495241, 1289171953, 205180702, 1266428689, -672692162, 1616148852, 2114819924, 2045084921, -1853218521, 234746382, -49190947, -1754805296, 1486246849, 888782372, 964194622, 692931852, -370202931, 223558337, 706815685, 1137190488, 1473524054, 572784109, 1098630799, 380928149, -358088616, 941159878, 2003929270, -1513048172, 1790156856, 508515610, -892769444, 1975621307, -940943338, 2039520656, 792233476, -1438831605, 1980584280, 496650625, 1819012988, -873087722, 1016208291, -1454243153, 1469618189, -1471340191, -1381202879, 1966474881, 721668424, -239831370, -638009899, -138047339, -1698194645, -2072245107, 801668158, -562786465, 399129759, -296661347, -811891516, -697310105, 422594051, -393381525, -1257073731, 287022670, -1151472420, 392981206, -1147152769, -158213149, -1110826282, 777375912, -1782578469, 299906686, -140059155, -233385361, 1731503974, 1014192444, -29845527, 1238635677, -1728713832, 9480433, -50767716, -222577394, 1848355885, -491214911, -1744188435, 16268150, 267888180, -1037614585, -1529652626, 1095469754, -981537955, 713730917, -1492458078, 1037064074, 884691124, 470569641, 1982575636, -510867411, 746792118, 254128867, 921968816, 1849404597, 1567116807, 1669670069, -1842078506, -1476429648, 1696577029, 2131211377, 1360245706, -1813226162, 1910478289, -866948299, 976583831, -953718965, 991877332, -93955737, 526723553, -633490745, 2102114898, 286197603, -1358377264, -1187009840, -917133938, -1867952329, -731273890, -874422381, -903513085, 1130810113, 192382818, 677453905, 1011984576, 338120122, 576615465, -942909236, 449191347, -498785704, 1774773922, -333124230, -131002142, -1219256094, 831919473, -1299830893, -1838623080, 847053599, 695902039, -1046368645, 1466045506, 1475085132, -1912988633, 191787961, -1639630299, 452144848, -543940413, -1054573306, -242707025, -1518026287, -1288138506, -1686478636, 1178343859, -876099092, 1170709050, -266795823, 1422820486, -366540541, -1820254270, 309536629, 2045485706, -257063585, 1986284057, -867099735, 996170152, 1846160849, -625400513, 114811428, -805034583, -1083055062, -1425535764, -1537806651, -749209858, 1667158465, -1180390091, -263600257, -2007700350, 980383235, 724850095, -1592255754, -1627363713, 1740011532, -1639369655, -1538779573, 993035234, 460925178, -1625142621, -2121125253, 1471136796, 572406423, -468137943, -345323383, -27546335, 1017230245, 406971814, 2043133975, -1966318550, 1577867440, -1864196692, 360863004, -432229460, 2041031830, -1090672628, -1183757360, -838143393, -995118068, 650816862, -33905670, -229377522, 882614831, -1844650961, 1461665381, 113301620, 158398329, -717572324, -42087795, -2027895829, 487899423, -1150566459, 642058850, 1412350607, -646200699, 276517514, -1887217689, -435288568, -1111177247, 1073672923, 1742313365, 1020272813, -81537056, 623517080, -1666234226, 749241329, -158010287, 441099843, 1545171805, 1451663669, 1270925901, 1936973154, -1340030399, -926919988, 1453335858, 621339913, 803434421, 1571289569, -513114331, -1609716443, 748856122, -1757620499, 1526352716, 1199349185, -73693638, -90191582, 798525911)
"mu" <- structure(c(-4.82856351801653, -5.07291428523923, -4.89476041314883, -5.0249259776111, -4.88893066833017, -5.01121970314352, -3.41177111671269, -3.31338085896498, -5.78125978474028, -5.20968192522451, -5.78764953668751, -3.85071115276997, -3.58143708809813, -3.43654053118443, -4.68854497065332, -3.85100170199429, -5.63228864465423, -5.38533625946939, -3.21737009727426, -2.89043015035959, -5.30838603665841, -2.92954875825287, -3.28923765202251, -3.10858108230313, -3.79714044632984, -3.06589428927185, -4.05830282575949, -1.61354547233729, -3.63433834976541, -1.25261725739732, -4.28206936784886, -0.899728317903036, -4.89016686729714, -3.58799132337047, -3.66953082425815, 0.0499914655646441, -2.61243873064715, -2.03469844311649, -5.15754320969577, -1.48282319894521, -3.07138392074855, 0.7648887391158, -0.155403864854883, -1.73676944780622, -1.67031378076344, -1.66999618108596, -2.72177406793669, -0.073493013535936, -0.771817541463166, -0.356523948216293, -2.43513672758597, -1.24299305283734, -2.05415285252106, 1.01747947991972, -1.5942232198884, -2.68477310228351, -2.57277414469511, -0.706893512102597, -1.4164838905875, 0.414778360636472, -1.66928738957179, 1.47147219906308, -0.775155809558296, -0.518203948801756, -1.34545926487158, -0.567793525553798, -1.70421374244054, 2.92961767871988, -0.525034102985583, -0.228914725418087, -0.402329839888811, 0.309356921314386, 0.462942620462324, 3.4651756284472, -0.0681358072301868, -1.84135193047028, 1.24326307596046, 0.892015104052962, 0.0613113312008923, 0.848410935372273, 1.34190342489366, -2.35990031426514, 1.89700317503616, -0.949002876456092, -0.485483995242214, -0.738979757067816, 0.0958534980510018, -1.70614163380609, 0.50124393978216, 0.773130944194585, -1.17360568160399, -0.974195752631245, -0.959030465059191, -0.736515446632661, 0.589358051143102, -0.831337508676087, -2.10117917330385, -2.00721185542248, -3.27643351008072, -1.19782412600298, 2.93223892098676, 0.040906538787583, -0.856162331781162, -2.90740252350893, -3.58696955085652, -1.43634801534391, 3.17972671647748, -1.33361561769886, -1.70193073775596, -2.34867956609509, -5.81279434314764, -2.72096357342668, 0.267777870752269, -3.9507274665736, -0.342021770890862, -2.90433330793557, -6.22858172162269, -3.08213960305848, -0.401386081993056, -1.92163408349219), .Dim = c(6, 20))
"tau_obs" <- 1.63035977053217
"tau_proc" <- 0.572296768503153
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Mersenne-Twister"
}



######################################################################################################
######################################################################################################
#### Data 
######################################################################################################
######################################################################################################

data{
"y" <- structure(c(-4.06591991745718, -2.94665209430014, -5.80914299031403, -5.80914299031403, -5.80914299031403, -5.80914299031403, -4.59783674154387, -1.88686814833501, -4.59783674154387, -5.80914299031403, -5.80914299031403, -4.59783674154387, NA, -4.06591991745718, -5.80914299031403, -2.94665209430014, -5.80914299031403, -5.80914299031403, -3.26053097886945, -3.72054301540761, -5.80914299031403, -1.93466900116998, -3.72054301540761, -1.98486998368036, -4.06591991745718, -2.60726358981506, -4.59783674154387, -0.668845883547919, -3.72054301540761, -1.47248282297889, -5.80914299031403, 0.655974922329534, -5.80914299031403, -4.59783674154387, -3.72054301540761, 0.281988862342713, -2.51565896414186, -2.70811366311588, -5.80914299031403, -1.18037030439171, -2.70811366311588, 1.31661982654987, -1.53614971441768, -2.82028710501947, -1.53614971441768, -2.15263466474332, -2.60726358981506, -0.0653754237762429, -0.589253733521219, -0.711150923698861, -1.8412483567478, -1.25195872848308, -2.51565896414186, 0.543420073956604, -0.211473338919426, -2.21545316410442, -1.47248282297889, -0.696849461552251, -1.01127799732093, 0.265852896722762, -1.03091569138165, 2.75676687558721, -0.168704041457194, -0.382628870687186, -0.615086916013517, 0.535170022761435, -2.60726358981506, 3.57821555646438, -1.75581432451179, 0.163154257134424, -0.833582703939862, -0.53950714937723, 1.18076288241878, 3.79205461642565, 1.4123738990455, -1.8412483567478, -0.60208690792214, 0.8962786165969, -0.013864711444381, 1.55353770544924, 0.869955466752787, -1.27700755822547, 1.06823942041139, -1.18037030439171, -0.576583164939999, -0.696849461552251, 0.0554034869116419, -0.382628870687186, 0.462152453642488, 0.138825724259713, -1.32906996434575, -0.900920880514602, -0.770494290290964, -0.56407113301186, 1.43788878016486, -0.900920880514602, -2.28248391223017, -1.88686814833501, -2.82028710501947, -0.43587591418692, 2.24561904248638, 0.677760368893093, 1.5185224738127, -2.94665209430014, -4.06591991745718, -1.1135661849228, 4.40231277434833, -2.28248391223017, NA, -4.06591991745718, -5.80914299031403, -3.72054301540761, -0.770494290290964, -4.06591991745718, -0.274600501197854, -3.09132676577126, -5.80914299031403, -3.46431559990757, -1.44210761092232, -2.0377249228153), .Dim = c(6, 20))
"year_no" <- c(1, 2, 3, 4, 5, 6)
"season_weeks" <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20)
"x_ic" <- -5
"tau_ic" <- 100
"a_proc" <- 0.001
"r_proc" <- 0.001
"a_obs" <- 15.37
"r_obs" <- 7.84


}

######################################################################################################
######################################################################################################
