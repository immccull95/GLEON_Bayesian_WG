######################################################################################################
######################################################################################################
#### JAGS model file written by runjags version 2.0.4-2 on 2019-08-16 22:52:21 
######################################################################################################
######################################################################################################

model{
for(k in 1:max(year_no)){
for(j in 1:max(season_weeks)){
#this fits the blended model to your observed data. 
y[k,j] ~ dnorm(mu[k,j],tau_obs)
}
#### Process Model
for(j in 2:max(season_weeks)){
mu[k,j]~dnorm(mu[k,j-1],tau_proc) 
}
#Loops through number of years and defines prior for each year
mu[k,1] ~ dnorm(x_ic,tau_ic) #keep in mind you'll need to index like a matrix 
}
#### Priors
tau_proc ~ dgamma(a_proc,r_proc)
tau_obs ~ dgamma(a_obs, r_obs)
}
#monitor# tau_proc, tau_obs, mu

######################################################################################################
######################################################################################################
#### Initial values 
######################################################################################################
######################################################################################################

inits{
".RNG.state" <- c(-1641376199, 585122377)
"mu" <- structure(c(-6.93624984359043, -7.06631630538194, -6.86943228592141, -7.04981489850417, -6.95868150164629, -7.00315577711566, -4.73528344178074, -3.31959822710903, -5.54778909470862, -6.21202387640435, -6.71899407309681, -5.51496036365452, -4.38645436815379, -2.37305270069485, -4.37806193287106, -3.05757099488867, -5.03131833611293, -3.90318683426964, -3.29485918073775, -1.83889827711604, -5.47930681892868, -1.26527583881363, -2.24837131945817, -2.88014334196797, -4.02259077583397, -2.72410925664621, -5.54595141259973, -1.43918600526945, -2.64381528977091, -1.02791575622527, -4.65149762315585, 1.05883310218204, -5.37364163488268, -3.1315580547444, -3.26275383896243, -0.5309159688218, -3.34324450251837, -2.24657307928091, -4.78606049721309, -2.57752273652507, -2.8190343172124, 0.204214298977971, -2.34246639045889, -2.46746792844503, -2.45775106711373, -1.13326083336395, -2.77442312938863, 0.0611024020600298, -0.555574270613009, -1.31009191722163, -2.32983918733807, 1.66879742593157, -2.03371406985951, 0.82109815688497, -0.461430235308669, -0.0715239478933172, -1.1846805769225, -0.117508731129108, 0.0733551358065319, 0.0485792942835603, -0.413119282662169, 1.8449095028234, -1.14753427149416, -0.628146082073672, -0.473034426148173, 0.189594622603098, 0.0332960730459362, 3.23700721460193, -1.00581909036657, -1.18246818560502, 0.922733075258474, -0.32925708275335, 0.906885472798634, 2.57936838724558, 1.03253761246173, -1.57092472071724, 1.48481901467214, -0.627138645799187, 0.517048872618293, 1.19726450074749, 0.724910676504805, -0.841981087730384, 1.77188132050736, 0.132125498557684, -1.42804392131534, -0.838545774063244, -1.58740599346857, 0.281592578950576, 1.36776461649007, 0.763510980052305, -2.84618828412549, -1.18949242541716, -1.07357941250842, 0.868042123314812, 2.77124569951518, -1.1988080127155, -2.59814114689873, -1.28822072051302, -2.42199129456708, -0.826621586638896, 1.97364624564257, 0.84120302002013, 0.758146750270261, -2.81663789355313, -2.2895508587633, -2.10366247654571, 2.46616530954338, -2.37267561075129, 2.11180763557408, -3.57171095589867, -4.079320881905, -3.61426055668395, 1.00948024644795, -2.86811782450598, 1.72351534981605, -1.79286237246461, -5.52107506347928, -4.53469530121341, -1.67450264042326, -1.46290690384643), .Dim = c(6, 20))
"tau_obs" <- 0.905104134942691
"tau_proc" <- 0.503217892129602
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -7, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -7, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Super-Duper"
}

inits{
".RNG.state" <- c(365, -1056341936, 556786340, -566987563, 376185448, -1450028361, -1895309437, 1583433154, -315917721, -288043970, 1174121034, -326302865, 2118908218, 1906388946, 838622445, 696877299, -545192123, 1873156685, -1382257750, -1920159013, -1675748343, 2072317164, 554438107, -1707889324, -1081050252, 2085794779, 518303331, -1158328816, 1579611564, -533055804, -669163620, 919448503, -101132231, 1412529676, -580771840, -38115450, -1979261284, -1722334577, 585870470, -1705076798, 2023287330, -1316740129, -1339589147, 425009870, 490317287, 1710301673, -418831957, 323572677, -791672370, -499161076, -1327876019, -697433805, -1554890412, -1241302919, -1785767534, 169502727, -1761198878, -1863694395, 608607652, -1945530249, 1894974557, -1006733643, 881878646, -1855657471, -210341676, 1456891703, -1880036873, -1423486805, -142772142, 1196081222, 1808703622, -227582725, -665239045, 839035781, -1798397895, -860055963, 954088757, -725947331, 1092912216, -454464961, 516378972, 163186092, 891625883, 46459840, 619870721, -2116773525, 822698871, 213417629, 1825359536, 768012094, -2143607713, -824156462, 1029363278, 1543352156, -749808537, -148111721, -317003630, 1139449919, 43469718, -243273450, -1003604566, 370273151, -2067869632, 436687089, 1782330333, -1312543696, 841411427, 837685529, -1277165147, -1281292976, -1889317417, -2103956092, -737062550, -1170602663, 1032453223, 306724754, -1446204440, 1843343555, 310016565, 985851227, 935541620, 1018179329, -898455120, -1974499998, -856088501, 1760489006, -1598020492, -473892190, -1799855714, -2033356663, 1050828147, -1940831240, 635079085, -1931912109, 1969263452, -162708554, 123433110, 845576178, -1911809537, -869935304, 1932398744, -991145783, 1428895676, -695217761, 1906117606, 942588577, 1472768468, 1131084472, 468018044, 1469568679, -1779894611, 1984536710, 524847105, 1357962108, -2028612443, 338378345, -935548848, 1029518134, -2047047689, -116343123, -1600440594, -61641842, 717169956, 728907858, 547933714, 356525106, 618796058, -1005552476, -1941154104, -437062764, 460118105, 364430373, -1190535564, -65609052, -1188391302, 1094421637, -511543865, 1879337214, -987068681, -1799799924, -932020571, 393963694, 1092744623, -186105976, 1349617656, 456130845, 1703490934, 753299723, -753974815, -1835473222, -1873457741, 924952117, -960032638, 510613712, -572106, 1998751861, -2038350112, -442048349, 2007013120, 1726309529, 1933204198, -1114483640, 2090735239, 1524795390, -2069648710, -1884360741, -1588344078, 1352575112, -388246869, -1991240468, -528856404, -1134421761, 1494016473, 301550420, 1176234168, -1330063015, 819243176, -378833446, -187562406, 483536182, -115730261, -1090254110, -839041079, -450517916, 577157702, 1997616016, -422419203, -851646616, -1428508744, -1173092505, -527548057, 292299647, 1500117317, -881528394, -76724104, -847467042, -2018047495, 410342746, -133625635, 894433266, -1497138300, -602447841, 1069321421, -247757397, 1551309133, 1340959105, -887182206, 1452018701, -138108250, 773849745, 2067136340, -1685254659, -1622479118, 109523104, 1563151955, -116056816, 1734975083, -304166647, -1777281866, 1083165456, -458575269, 259350182, 1002263847, 2144415233, -1718711302, -332238865, 2125200875, 1777765946, -1103614397, -1920520568, 326611781, -447038793, -3731410, 1887230081, -286531353, 117093515, 1881310085, -553870469, 1188446052, 270090559, 573909540, 1953501232, 1835761533, 450121081, -792073740, -719835856, 1749821699, 845289152, 510813537, 99208936, 1864247237, -1749408321, -887334585, 1580868955, 2019089555, -724810201, -1119991826, 179643035, 1043309050, 254597071, 1712495016, -551680396, -487333008, -1991058421, -2112088610, 376000360, -1767159388, -1599603628, -48334503, 1926772999, 10961877, -728197307, -692902330, 1793733031, -1786656407, 485591053, 1979811229, -247922651, 1463800258, 1756071399, -1115323051, -64087373, 1321233105, -1207138557, -1567218341, 1382513064, -834823458, -17453159, -624296217, -194313592, 1054980399, 1433391200, 1552609327, 680310379, -157263108, -1287883978, 484646966, 602402639, 2075839255, 1111000855, 1467148567, 1392230364, 814540215, 1527114892, -309901065, 857154113, 1255645712, 2071121017, -856842694, 157337643, 815696795, -217274349, -1059169974, 700023416, -1862877894, -1115837693, 1228070117, -2028298264, -1529500670, -615706197, 840179304, 1618132007, -1398091329, 2012291922, 789426670, -833646873, 391501898, 1289809046, 552535144, -1839577070, 851702878, -842323302, 470810543, 2104514367, -269556453, -1077823372, -1911435616, 1353571216, 455434625, -1597848899, -1808113441, 1819529126, -484779184, 420287871, -935154880, -1723151471, -1929281898, -1772375856, 261828976, -1135747909, -1680980837, -1247602391, 860471080, 879726474, 2019236023, 352852191, -320837504, -929204979, -311962334, 1263788796, -145671987, -183576988, -937282028, -760111030, -246607932, 1663858350, -1899976531, -39806499, 1875932211, -1523443706, 1858045336, 1323436117, -1951138566, -1223498614, -959172526, -672756975, -1047608814, -2057197861, 1748816953, 703029310, 1408882142, 1909632503, -1520426372, 1754860350, -845022233, -26659499, -852313753, 1258932343, -2099407528, -1679117678, 2059369661, -242584657, 1291452987, 1259868747, -1031760164, 808919539, -1626190547, -1262912387, -201742981, 1137764865, 1266848909, 292582154, -1970263702, 1867191602, -316845115, 1197249161, -1360622521, 1471750270, -1416007288, -1985980042, -261092251, -470961444, -1565813796, 201954467, 117010515, -412891378, 1826853334, -952144632, -810571896, -318359999, -1289014760, -404122977, 216436099, -1604750612, 2014095790, -776443249, -1502480307, -2044406839, -208521232, 1373708094, 214950316, 222180569, -34478181, -253403225, -1926014720, -1495316382, 864884108, -647141487, 1094795734, 980318418, -34022361, 1850508020, 1185343647, -1411244345, -1762692554, -1733077004, -1069610481, 1405738024, 2066349448, 1452486321, -1772320093, -65309552, -1673983055, -928184326, -459144079, 1220486143, -1194132466, -667517742, -1404293329, -1873365154, 613898100, -2115891298, 1628498197, 392721253, -920375008, -1512381020, 807608335, 1054273786, 574994921, 1169701893, -1709914800, 1780932414, -2014886261, -2112893095, 1254862490, -146701555, 1533810752, 61488972, -334771393, -417973027, -1413030322, 816667445, -1244240011, -617042165, 1918061215, -2092362609, -631133168, -1316364121, 1853641882, -1229982400, -1842177049, -707002135, -695772066, 806050135, 872139344, -1376384878, 231677006, -365919786, -1775280996, 123869319, 1426305511, -497785264, 1748475258, -1479967413, -679944335, -1459468195, 394707967, 451935971, -899328405, -1078108361, -1128721283, 1995713961, -971806595, -1370853502, 1764215460, -1704181242, -1736902355, 267591085, 1316035394, 982257117, -1348407216, 1131263490, 919950048, 1064465432, -1413196341, 333259244, -1097823959, 166943718, -328188125, 1881719995, -1217131730, 1065657273, 512790995, -131918822, -814586422, -1610454576, -824530740, -1855374119, -1923734804, -684931202, -483735237, -1748894801, -2051901779, 1095479762, -1688162514, 104434145, 331887330, 1275344938, 165108936, 1893473670, -1799144433, 1565821705, 786194361, -328339672, 1392108472, -1985669149, -844883131, -1046892816, 606746874, -731330368, -1875145280, 744430653, -1565103811, 498239784, 332738458, -586591789, -628405521, 3241812, -1020814923, -1690643312, 1710610224, 30608605, 1725677728, 290476351, -1252818228, 1666001047, -1181371232, 218625209, 231391478, -1436574566, -2077618876, -1210100106, 2121632017, -1724401827, -1474710235)
"mu" <- structure(c(-6.93843943646471, -6.88857053459669, -7.10583714295544, -6.87741733867964, -7.07009076312515, -6.80853863571084, -5.32019829012465, -3.46120069819959, -5.93003756690471, -5.1778379076691, -6.23856107850663, -5.67936327142449, -5.33464829799957, -3.87515517228972, -5.48046009686538, -2.01729117800006, -5.71523390951067, -4.50759767878271, -5.1191612869306, -3.71560966227522, -7.41818270930933, -1.83981920035335, -3.96958064101288, -1.66233452419482, -4.48470139021624, -3.1579688831319, -5.27425822673601, -1.17198879024208, -4.16195288430291, -0.312108591267204, -5.12707030432699, -1.46150509016515, -5.25536155597654, -3.25311320528231, -3.4388242239593, 0.151648711018865, -3.02407800617435, -1.45017778190828, -4.65146497477387, -2.05643949964614, -3.12961628856569, 0.485239259031314, -2.53340906763528, -1.8827116305509, -4.36669179578121, -0.880455631602859, -2.62690224574918, 0.805495947176762, -1.61822052990877, -1.02258868166431, -2.66402024000389, -1.21750349511414, -2.15910776181054, 0.211832735609766, 0.285598801486871, -2.13581031330056, -0.865911580350205, -1.03875693213012, -2.01999496320307, 0.709099852828284, -0.795246276380423, 2.07665324382681, -1.3298912122113, 0.122195563116846, -1.18986994808026, -0.0387436031127656, -2.58596568817246, 3.14111603812196, -1.71368390119177, 0.972600259259542, -0.911655531277298, -0.0679605476773161, 1.42394985174473, 3.13616136540502, -0.167969172045393, -0.382679709521559, 0.0634619127248794, 0.161531773771425, 1.1284376968693, 1.59744297971834, 0.692139035731189, -1.84472481429616, 1.75733576696832, -0.676205448616801, -0.566633979486866, 0.312537847514644, 1.3030833030147, -1.06327314612002, 2.36522559700361, -0.0698675003438259, -1.10757912671434, -2.23415305309245, -0.894625344241574, -1.51826299125426, 0.921655584441982, -1.17896996634121, 0.406296478667998, -2.88181935733136, -1.97128188980427, -1.82013131793035, 2.9888441049812, -0.889592199130814, 0.585717405294535, -3.11252362435126, -3.84688468148905, -0.378550658197863, 4.20394063622292, -1.72931538188129, 1.40495148492858, -4.37748589310454, -5.08510807711879, -4.12073715815599, 0.114864140959719, -2.73529379088655, 0.761568975068838, -4.00078804361898, -6.23854333542451, -2.94940376211293, -0.948517896969758, -2.09283331821758), .Dim = c(6, 20))
"tau_obs" <- 1.22968779569886
"tau_proc" <- 0.591302235738099
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -7, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -7, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Mersenne-Twister"
}

inits{
".RNG.state" <- c(11094, 8962, 19730)
"mu" <- structure(c(-7.13446323308998, -6.89131711119094, -7.13787290417935, -7.03788876843616, -6.91959659076465, -6.93973328788027, -3.76742223595525, -3.21138438396916, -5.21119818874621, -5.97603846698527, -4.51980995846264, -6.58244043366925, -2.24290213921748, -3.07226559247655, -6.07665995074674, -3.54985019124302, -5.70015141744542, -4.40554016877138, -3.43933053280829, -2.45449654788577, -7.29903424684805, -3.39145473237564, -4.80692860198165, -2.54966592593215, -4.54073089408023, -2.04320734222043, -6.38507851696659, -1.5619324679266, -3.80994312053609, -1.99142556853501, -4.21330412317904, -1.08479949994259, -5.78390172138305, -2.73659943460689, -2.7754802873482, -0.104369998520095, -2.21640368515942, -2.95347860684955, -5.15083824668415, -2.24731877797409, -2.72159240286466, 1.41900889762631, -1.84706470600365, -1.83209228485721, -1.86954054413113, -2.37687616987894, -3.20439622478027, 0.868756861737384, -0.372823163117994, -2.1053713200612, -2.78566619525495, -2.66054853853907, -3.0274062168886, -0.0223922892522406, -0.674478488391904, -0.349510296730572, -1.24867895951878, -2.48400668941956, -2.04252157905788, 0.947470432865654, -0.587044758928264, 1.95846419382898, -1.18130624184108, -0.0988145018532331, -1.24763389159513, 0.679955385625439, -2.15869701346727, 3.26659211789039, -2.02639523438204, -1.05829412029254, -1.07830708541503, 0.0709670734594307, 0.674548272855791, 2.47029307347352, -0.374234817513952, -0.593847676118825, -0.979772349390609, 1.01783162840721, -0.581610301661832, 1.7228465831135, 0.414264076149381, -1.18702874156297, -0.135784703704486, -0.387986499766267, -1.19116893259046, 1.47073880767744, -1.07823583443485, -1.25779477563251, 1.92818248916565, -0.0565304506267199, -0.277311422057684, -1.20153988912609, -2.17589836699547, -2.33782929999759, 0.366866566061947, -1.64531249151311, -0.493554430461979, -1.03904960679297, -3.42843229687068, -1.83758126435926, 1.20512536779322, -1.5812936685533, 1.50216817273625, -1.76005809465246, -5.37555188637484, -1.39642650798018, 2.62082958017037, -1.42242518608212, -0.283950339572439, -3.21779299336799, -5.30274836869101, -3.16523436736118, 0.5037607985119, -0.21290186356698, -1.30632768229302, -2.11541003804547, -4.97289554074883, -4.29583223131813, 0.250568236106065, -1.68470329642094), .Dim = c(6, 20))
"tau_obs" <- 0.811219632287062
"tau_proc" <- 0.449508186244062
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -7, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -7, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Wichmann-Hill"
}



######################################################################################################
######################################################################################################
#### Data 
######################################################################################################
######################################################################################################

data{
"y" <- structure(c(-4.06591991745718, -2.94665209430014, -5.80914299031403, -5.80914299031403, -5.80914299031403, -5.80914299031403, -4.59783674154387, -1.88686814833501, -4.59783674154387, -5.80914299031403, -5.80914299031403, -4.59783674154387, NA, -4.06591991745718, -5.80914299031403, -2.94665209430014, -5.80914299031403, -5.80914299031403, -3.26053097886945, -3.72054301540761, -5.80914299031403, -1.93466900116998, -3.72054301540761, -1.98486998368036, -4.06591991745718, -2.60726358981506, -4.59783674154387, -0.668845883547919, -3.72054301540761, -1.47248282297889, -5.80914299031403, 0.655974922329534, -5.80914299031403, -4.59783674154387, -3.72054301540761, 0.281988862342713, -2.51565896414186, -2.70811366311588, -5.80914299031403, -1.18037030439171, -2.70811366311588, 1.31661982654987, -1.53614971441768, -2.82028710501947, -1.53614971441768, -2.15263466474332, -2.60726358981506, -0.0653754237762429, -0.589253733521219, -0.711150923698861, -1.8412483567478, -1.25195872848308, -2.51565896414186, 0.543420073956604, -0.211473338919426, -2.21545316410442, -1.47248282297889, -0.696849461552251, -1.01127799732093, 0.265852896722762, -1.03091569138165, 2.75676687558721, -0.168704041457194, -0.382628870687186, -0.615086916013517, 0.535170022761435, -2.60726358981506, 3.57821555646438, -1.75581432451179, 0.163154257134424, -0.833582703939862, -0.53950714937723, 1.18076288241878, 3.79205461642565, 1.4123738990455, -1.8412483567478, -0.60208690792214, 0.8962786165969, -0.013864711444381, 1.55353770544924, 0.869955466752787, -1.27700755822547, 1.06823942041139, -1.18037030439171, -0.576583164939999, -0.696849461552251, 0.0554034869116419, -0.382628870687186, 0.462152453642488, 0.138825724259713, -1.32906996434575, -0.900920880514602, -0.770494290290964, -0.56407113301186, 1.43788878016486, -0.900920880514602, -2.28248391223017, -1.88686814833501, -2.82028710501947, -0.43587591418692, 2.24561904248638, 0.677760368893093, 1.5185224738127, -2.94665209430014, -4.06591991745718, -1.1135661849228, 4.40231277434833, -2.28248391223017, NA, -4.06591991745718, -5.80914299031403, -3.72054301540761, -0.770494290290964, -4.06591991745718, -0.274600501197854, -3.09132676577126, -5.80914299031403, -3.46431559990757, -1.44210761092232, -2.0377249228153), .Dim = c(6, 20))
"year_no" <- c(1, 2, 3, 4, 5, 6)
"season_weeks" <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20)
"x_ic" <- -7
"tau_ic" <- 100
"a_proc" <- 0.001
"r_proc" <- 0.001
"a_obs" <- 15.37
"r_obs" <- 7.84


}

######################################################################################################
######################################################################################################
