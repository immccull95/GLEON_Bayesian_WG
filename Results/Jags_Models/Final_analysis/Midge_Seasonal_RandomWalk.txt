######################################################################################################
######################################################################################################
#### JAGS model file written by runjags version 2.0.4-2 on 2020-02-06 11:39:40 
######################################################################################################
######################################################################################################

model{
for(k in 1:max(year_no)){
for(j in 1:max(season_weeks)){
#this fits the blended model to your observed data. 
y[k,j] ~ dnorm(mu[k,j],tau_obs)
}
#### Process Model
for(j in 2:max(season_weeks)){
mu[k,j]~dnorm(mu[k,j-1],tau_proc) 
}
#Loops through number of years and defines prior for each year
mu[k,1] ~ dnorm(x_ic,tau_ic) #keep in mind you'll need to index like a matrix 
}
#### Priors
tau_proc ~ dgamma(a_proc,r_proc)
tau_obs ~ dgamma(a_obs, r_obs)
}
#monitor# tau_proc, tau_obs, mu

######################################################################################################
######################################################################################################
#### Initial values 
######################################################################################################
######################################################################################################

inits{
".RNG.state" <- c(1986107701, 368024754)
"mu" <- structure(c(-5.16340084675902, -5.11046499689415, -4.98379819788224, -5.00999153189951, -5.08594776228564, -5.08394287581236, -4.17828044048123, -4.2895513204564, -5.02807226021979, -6.31011712385871, -6.25038771732838, -5.75819012331192, -2.74899638398613, -4.35834558139939, -5.74173462348176, -2.58708274995603, -5.93114714815787, -6.7642804750822, -2.80626009819465, -4.24749639720831, -7.21664969258297, -1.90669444253274, -4.20949411861566, -3.15564064963622, -2.69023839106648, -3.57499467999354, -5.18307646909588, -1.19260893155759, -3.42164981189214, -1.29570448791703, -3.30410103592186, -0.0354703107038364, -5.09639746566748, -2.78629593622055, -3.27317795705495, -0.520606156439247, -3.04343832173837, -2.00572676268784, -4.53572551749092, -2.21086470191466, -2.34863992101605, -0.151461089385469, -2.2514752646185, -1.75111129602398, -2.68430831231889, -1.25778064563597, -2.0889525345232, -0.499140643044253, -1.72990541377521, -1.35997640802124, -1.72774723914406, -1.43340139173198, -0.628163532349009, 1.08525568619763, 0.625457075969405, -1.27350252263354, -1.40876123347227, -0.0336258828213746, -1.2548650722337, 1.80697584445856, -0.695103210505851, 0.223857360299488, -1.19131778965108, -0.20255147115724, -0.315085590106525, 0.758079892023816, -2.13577696567881, 0.759851339279963, -0.965288945980778, 1.492447647918, -0.722248909803091, -1.09516739959486, -0.517785124092264, 1.61993677633412, 0.76371787132806, -0.300251593530372, 0.782693646072501, 0.284244858324181, -0.864999943326139, 1.94692436398659, 0.340492390732805, -1.21631338886873, -0.48432872400615, -0.672150301271112, -2.60484621876255, 0.272402900457483, -0.351585580350705, -1.36273655130948, 0.0875602647482976, -1.11399276656516, -0.825198590568833, -0.441531757379219, -1.69066146603608, -0.395497281332335, 0.500592597068588, -1.37016981828853, 0.164010924463282, -0.973088234361872, -3.38690582237843, -0.419673673422564, 1.43435256910287, 0.769341415754639, 1.56861428628618, -2.08687669050002, -4.59095591054776, -1.13666680057341, 3.74992974586485, -2.54541425672669, 1.3943440352754, -3.66174970497038, -5.8000218614024, -1.90153751461614, 1.056385129662, -3.00888680604578, 0.719118234682029, -4.08915740429158, -6.0394045294332, -4.40645555046599, 0.170830582668903, -2.4940306182804), .Dim = c(6, 20))
"tau_obs" <- 1.08508277663148
"tau_proc" <- 0.540927302688145
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Marsaglia-Multicarry"
}

inits{
".RNG.state" <- c(2075820835, 1597052049)
"mu" <- structure(c(-4.93196739821644, -4.9878271121298, -4.71561556669111, -5.04866426830849, -5.16235851071243, -5.12109803401631, -4.54555905637499, -3.45032198579513, -4.41498703612559, -4.76270908830382, -6.15202575391912, -4.09055256166907, -3.30569356113585, -4.69160947980235, -5.77331797902755, -2.87787803601931, -5.22242971329158, -4.45236828414644, -2.9038462622348, -4.27851647093018, -5.53392474345988, -2.24154480084639, -4.09951799157555, -3.00150674334226, -5.48703491563771, -2.9760483702352, -4.02377169974353, -1.9549219082063, -3.08759057767773, -2.40260011069184, -5.27422236859135, -1.18467448551567, -4.57778381560901, -3.76383687616796, -2.60314864361512, -0.15118215495319, -1.90387172631639, -2.81935499448947, -6.01449222629453, -2.13328653275194, -2.83870763953443, -0.177990096872875, -1.38477929481229, -2.0658413041901, -3.22358868229113, -0.594747392989952, -2.80980709530443, 0.78303377627328, -0.179061460618036, -1.20809416626865, -2.19261814328407, -1.70782468123182, -2.29072936900766, 1.43498480736252, -1.02507011248621, -2.18717731325658, -1.47448846668744, -0.579274337423372, -1.07807933963671, 0.29541413958743, -1.4835740884261, 0.770217622160115, -0.0349892155443044, 0.373625522678583, -0.720308801665446, 0.329876671442002, -1.79309548427764, 2.78278630898357, -0.521888126465315, -0.408285526003401, -0.804230913464468, -0.369639203351959, 0.170144266087499, 2.43785438846746, 0.397160999280595, -1.45147148060787, -0.237101050599119, 1.27374587137644, -0.0154593586047127, 1.29435304219466, -0.273898805462377, -1.95371577597262, 0.772368919266975, -0.81272404654309, -1.10513246906426, 0.644817607699726, 0.407651586177346, -0.355620870327596, 0.62468863219264, -0.465371704514065, -1.9617308840789, -0.0184353271009932, -1.95088744556383, -1.24530473911937, 1.62978055573536, -0.91781398841383, -1.19004274372217, -2.24777652502059, -3.65329247927183, -1.42959188941651, 2.35625360788778, 1.58786228531266, -0.468366303005961, -3.14370918555479, -5.25714136183602, -1.07888320717109, 1.82824587877358, -0.481893282671962, -1.01858089722606, -3.66280001442033, -5.07431046664098, -3.55979322390371, -0.718292766747518, -3.51915123351653, -1.69688464364655, -3.18292860567795, -5.23453163015274, -3.33518671802515, -0.743025580899109, -2.64318678274426), .Dim = c(6, 20))
"tau_obs" <- 1.09164801725309
"tau_proc" <- 0.641565465071614
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Super-Duper"
}

inits{
".RNG.state" <- c(191, 913768722, 74490568, 2114471684, 1550430365, 544134556, 1118047842, 238544750, -19606715, -1275858756, -2046902979, 709680810, -336133328, 782948731, 642835051, 257859472, 1020437020, -1310993304, 2086638333, 589686991, 1293189699, -1130096411, 685971898, -2038129788, -1253499467, -1639626884, -660645033, -1974290784, -1700179939, -922228519, -1531995627, -1303534207, 546535967, -612923886, 1483346801, -75460395, 133586927, 2058690557, -1739884827, -1972200407, -1796246203, 1792848449, 957445290, -1665779098, -960713142, -144965275, -1677835069, -467238159, -1609418512, -1585722882, 1840362228, 1316319696, -1966117506, 229836503, -260284711, -486434135, -2070318208, -1705567486, 1727366363, 1739848376, -590986620, 1766953102, 829769626, 538686510, 214113019, -1739200023, -479496619, 442542126, -789737024, -1804152258, -1862276637, 27969195, 408516467, -716272545, 1996757300, 284958807, 1239979781, -1099810722, 1431470554, 1977052848, 1637935780, -1366507072, 207531457, -241366773, -1218021842, 764860822, 276960132, 291770564, -1334167496, -1824798653, -87215719, -695468597, -1842820754, 557214321, -633962346, 1604836540, -451549248, 1851721190, -2035965176, 901055521, 698382010, -570819173, -1507353153, -614555083, -1401190470, -2089063762, 114475834, 1552099737, -1442851517, -370830752, -1245218754, 623780004, 1439399893, -1258925509, 2125663458, -138150221, 1015825891, -1019129016, -898500354, 1223544221, -814886081, -1407993410, -901304375, 427257050, 1401521887, 673037531, -1782213891, 1428157534, 765903213, 58705611, -1250489970, 736732334, -2140647198, 194543082, 848996773, 1303738365, -1458493104, 1887653352, 1995908252, -1442762242, 1922219349, 1777711815, 1829823498, -241024640, 1183455147, 230032656, -1893415395, 1846556583, -1182448197, -109813976, -1710952006, -1640438605, -513147679, 865720822, 891134231, 1868752039, 1254331884, 1661528691, -1475918784, -1205325201, -1650332354, 735815248, 145274094, -1190215279, -384362839, -1841322271, -2075221979, -1614103224, -421183621, 352810531, 1999577732, -1511443485, -1068834068, -1981957727, 1748848698, 535785942, -78605278, -913190607, 524388235, 496275146, -299058629, 731838441, 1724298924, 621431176, 445835277, -1578071774, -1073211320, -1590003132, -357438463, 1554643811, -108607921, -1344614369, 171275646, 1044471692, 1731075988, 1155161749, 373462698, 650173994, -1387046034, -1512756227, 753412835, -372701501, -1829849201, 335303178, -91539595, 1891832208, 503911023, 710280995, -1290078625, 167579727, 2090856173, -2009017413, -609083043, 1276927918, -830775084, 2048610995, 773402552, 1019293147, -961949266, -1170241209, -1718079297, 75857399, 234698239, 1422592998, 179677561, -284311244, 1225014952, -1770503913, 1823804954, -1980166724, -947584438, 2079142874, -1899666664, 203659159, -560852113, -1897379551, -415557909, -160013277, -1305769910, 960910951, -1845219506, 772562599, 1638002172, -1829382365, 1311832023, 954689174, -377365674, 1931317224, 1328202743, -611341058, -95726340, -1849406664, 1352100547, 1004308289, -1754934247, -297347088, -1080016008, 465258694, -242390236, 167868908, 1283853763, 2031406505, 1196280977, -2088525414, -211152281, -1253527762, -488705372, -1329432524, 1042069075, -1540071605, 1686257235, -345435422, 1878030082, -1618624485, -495849451, -375748344, -386370778, 1392423120, 201171085, 464827426, 1016181993, -1077570832, -136477351, 874562899, -695457168, 1109957036, -1132698814, -664729183, -123716020, -647920876, 1830881246, -806473529, -152342732, -1870011492, 348013968, -1486256665, -2053702534, -1985687989, -758039351, 1551538699, 133792722, -435550134, -2020363849, 1919071306, 505172558, -750741161, 158753520, 779502870, 2130369369, -1600700645, -675355699, 1008424233, 1417484655, 45242114, -1882683664, 1145765318, -2066611684, 1321003682, -1806470702, -1301535612, -680439104, 269262376, 1161926039, -736467899, -1018243812, -403275587, 1401725671, 1028483178, 187810670, -203209875, 263402971, -1809583739, 141188491, -1593039792, 1960018765, -61011753, 1997811092, -1485787787, -18586003, -883181964, 1041206115, 1173159310, -885549242, 266558232, -246912322, -466522220, -870687186, -1763841500, -1288360395, -716720420, 1283599249, -1060443743, 521740127, 1521403625, -417015598, -229930489, -1272181270, 1783926329, -1319023142, 236806918, 90913603, 1396374579, 616398863, -820783326, 1560241107, 67096648, -2132966647, 1732935274, 1108110123, 1300388009, 588445291, 131361173, 351652015, -650728334, 1994940914, -1631983059, 1748888615, 1719349960, 1577172410, 2141466131, -260353160, 44709461, 1731108905, 123437923, 1504680374, 928221246, -548574134, -1102401724, 527074612, 372513878, -952812184, -1565577685, -1567312326, -2132497903, 995257908, 827556714, -1833624110, -479709168, -1128410295, 264448613, -276690093, 1567306266, -1997436901, 1191939342, -306056261, 1821850069, 1276488058, -36368965, -1345039097, -1368332929, -608821547, -1221978966, 157547705, -414560119, -47696259, -609804976, -656205365, 373066331, 247459369, -1231203717, -109778711, 1190826490, 40982594, -88985076, -924042559, -1221667521, 1631187632, 132741464, -700580205, 931253270, 1460582633, 1534633374, -46870175, -673649708, -1323888475, -2076755714, -1645254008, -1526116511, -18666961, -1736216972, 1034975844, 650373702, 1423723696, -1671911155, -275439699, 1836097373, 1368204443, -904965044, 1719696069, 17706040, 721630613, 485586502, 1678272453, 304695467, 606259841, -866835883, 380063013, 385005658, 1385321046, 898825382, 1613807555, -170490440, 673103818, -1060911511, 1530826975, -869813856, -1023006346, 1661949963, 757809177, 118176262, 883484864, -711946437, 2019109343, -1910699477, -1741659185, -1890259039, 1373461493, -1465741447, -61329334, 572210314, 1823326023, 1503158314, 340944362, -984075078, 514561528, 1684353139, -705231902, 629989516, -1762492876, -239746243, -105830385, -212861683, -471851005, 1910385583, 251731659, 44611707, -1707209295, -556398732, -630260419, 1290400061, -1735093945, -892023042, 704012499, 1923213779, 809734463, -1243269693, 190300361, 1649361796, -679992257, 741303264, 539624842, -2099667803, -487153873, -1101543370, -444577599, -1934910254, -1427375812, -1396992686, 1630543045, 208048165, -1799594259, 1029739139, -355908839, -323609849, -1070362547, -1135653794, -1330225908, 986887618, 255985739, 1575138843, -354262800, 103371400, -744578696, 185234987, -1062421630, -400879141, 1584297300, -579387448, 138604245, 209061059, 493727545, -544099313, 993893206, -1432397664, 1657667030, -1573890004, 1349121277, -322703634, 1550087014, 402190724, 994459299, 178134213, -548465829, 1171000374, 717973048, 588568552, 2051903662, -419661108, 709278487, -1852713916, -1952165005, 1478159006, 1899591797, -1973776344, 985249221, -295805206, 2053208728, 523805573, 722133971, -727212202, 1194281107, -226478364, 886485282, -1217267005, -336860351, 390786510, 545460967, -783567090, 2054250191, -1056869285, 2129714401, -1561148401, -1654124339, -1768366371, 794795844, 592747873, -365900622, 86251875, 993141146, 1113677967, -1656585654, -160048287, -1377134118, -20069543, 1352834991, -1014735745, 1121776075, 1348180352, 1626700441, 1129018674, -637183355, 1476240818, -2103818848, -277732424, -1967303060, -1514667097, 436478660, -2127039631, 1254574004, 1084265088, 2122194802, 863585583, -1849544586, -323094494, -1621565561, -2128900793, -1839081176, -981096150, -2075430109, -358397428, 1971052604, 1014782139, 671040452, -98831666, -1202472807)
"mu" <- structure(c(-4.99190169553777, -5.02743111444175, -5.12538433864151, -5.01867985280543, -4.87710244210415, -4.88887466810585, -4.92624695149504, -3.06047182121358, -5.85138375890332, -4.02009825206424, -6.35975049850402, -4.64468856611327, -5.01781384628404, -3.28375551649415, -4.43320791864357, -1.89667608490073, -4.96212710008759, -4.41292085323815, -4.26361218580598, -3.12216582071396, -5.37459072276803, -1.87179185729789, -3.76718766003446, -1.39008536972514, -4.34171768410075, -1.98937449480417, -4.28588060546046, -0.590753118506166, -3.60688780320309, -0.949054030037772, -4.05494173921633, -1.09062348117571, -4.59998552455062, -2.58047456782404, -4.19831533541217, -0.871448895644759, -2.9342290472144, -1.72345235764459, -4.7985084214445, -1.14732808980784, -3.17299368263861, 0.538503949363626, -0.706373854536267, -2.73619833158233, -3.60777032619749, -1.53115979250194, -2.63586247587662, 1.33192602126154, -1.13342229836879, -1.23808476759322, -1.7155523052169, -0.994918009886353, -1.71886355475087, 1.47767351691208, 0.200891280461846, -1.53219903605957, -2.10713526583531, -0.354688603104656, -1.15768434914599, 0.551758437577075, 0.121945363282902, 1.77186599760505, -1.11426668103861, 0.119978343658473, -0.690181830786613, -0.34253226672835, -1.67474383867383, 3.14345123389323, -0.591068661523862, 0.368180394263424, -0.0624686608944115, -1.62998266438667, 0.0569860167152228, 4.31374563525804, 0.00489114660423562, -2.19154642509888, -0.0556618176090668, -0.301963405152821, -0.650696207679224, 2.16518137570361, 0.999948544780865, -2.05399634885678, -0.491141182582913, -0.669456087997547, -1.62767577127618, 1.34329611376097, -0.215878371624598, -0.765428142234474, -0.0392875246546062, -1.17414902421554, -1.18928061899559, -0.859864672362764, -2.57285863957186, 0.185604509274107, 1.60038352513705, -0.0538209834339454, -2.1736386965952, -2.10118231543749, -1.72516941669267, 0.363652667825136, 1.88542632909303, -0.147084532902453, 0.597617477698633, -2.91534815293024, -4.02483567243422, -1.92728975850711, 2.57473170802344, -2.01355312449431, 0.537308413300372, -3.58557233141501, -5.70462088691598, -3.25068117163622, -1.59364373164833, -2.52684576965884, -0.910187764725225, -4.40788308382545, -5.59175694359763, -3.25339276175538, -1.44509995700535, -2.35722574560253), .Dim = c(6, 20))
"tau_obs" <- 1.4420915699536
"tau_proc" <- 0.684171917489089
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Mersenne-Twister"
}



######################################################################################################
######################################################################################################
#### Data 
######################################################################################################
######################################################################################################

data{
"y" <- structure(c(-4.06591991745718, -2.94665209430014, -5.80914299031403, -5.80914299031403, -5.80914299031403, -5.80914299031403, -4.59783674154387, -1.88686814833501, -4.59783674154387, -5.80914299031403, -5.80914299031403, -4.59783674154387, NA, -4.06591991745718, -5.80914299031403, -2.94665209430014, -5.80914299031403, -5.80914299031403, -3.26053097886945, -3.72054301540761, -5.80914299031403, -1.93466900116998, -3.72054301540761, -1.98486998368036, -4.06591991745718, -2.60726358981506, -4.59783674154387, -0.668845883547919, -3.72054301540761, -1.47248282297889, -5.80914299031403, 0.655974922329534, -5.80914299031403, -4.59783674154387, -3.72054301540761, 0.281988862342713, -2.51565896414186, -2.70811366311588, -5.80914299031403, -1.18037030439171, -2.70811366311588, 1.31661982654987, -1.53614971441768, -2.82028710501947, -1.53614971441768, -2.15263466474332, -2.60726358981506, -0.0653754237762429, -0.589253733521219, -0.711150923698861, -1.8412483567478, -1.25195872848308, -2.51565896414186, 0.543420073956604, -0.211473338919426, -2.21545316410442, -1.47248282297889, -0.696849461552251, -1.01127799732093, 0.265852896722762, -1.03091569138165, 2.75676687558721, -0.168704041457194, -0.382628870687186, -0.615086916013517, 0.535170022761435, -2.60726358981506, 3.57821555646438, -1.75581432451179, 0.163154257134424, -0.833582703939862, -0.53950714937723, 1.18076288241878, 3.79205461642565, 1.4123738990455, -1.8412483567478, -0.60208690792214, 0.8962786165969, -0.013864711444381, 1.55353770544924, 0.869955466752787, -1.27700755822547, 1.06823942041139, -1.18037030439171, -0.576583164939999, -0.696849461552251, 0.0554034869116419, -0.382628870687186, 0.462152453642488, 0.138825724259713, -1.32906996434575, -0.900920880514602, -0.770494290290964, -0.56407113301186, 1.43788878016486, -0.900920880514602, -2.28248391223017, -1.88686814833501, -2.82028710501947, -0.43587591418692, 2.24561904248638, 0.677760368893093, 1.5185224738127, -2.94665209430014, -4.06591991745718, -1.1135661849228, 4.40231277434833, -2.28248391223017, NA, -4.06591991745718, -5.80914299031403, -3.72054301540761, -0.770494290290964, -4.06591991745718, -0.274600501197854, -3.09132676577126, -5.80914299031403, -3.46431559990757, -1.44210761092232, -2.0377249228153), .Dim = c(6, 20))
"year_no" <- c(1, 2, 3, 4, 5, 6)
"season_weeks" <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20)
"x_ic" <- -5
"tau_ic" <- 100
"a_proc" <- 0.001
"r_proc" <- 0.001
"a_obs" <- 0.001
"r_obs" <- 0.001


}

######################################################################################################
######################################################################################################
