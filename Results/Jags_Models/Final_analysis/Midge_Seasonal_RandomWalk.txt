######################################################################################################
######################################################################################################
#### JAGS model file written by runjags version 2.0.4-2 on 2020-03-03 22:59:01 
######################################################################################################
######################################################################################################

model{
for(k in 1:max(year_no)){
for(j in 1:max(season_weeks)){
#this fits the blended model to your observed data. 
y[k,j] ~ dnorm(mu[k,j],tau_obs)
}
#### Process Model
for(j in 2:max(season_weeks)){
mu[k,j]~dnorm(mu[k,j-1],tau_proc) 
}
#Loops through number of years and defines prior for each year
mu[k,1] ~ dnorm(x_ic,tau_ic) #keep in mind you'll need to index like a matrix 
}
#### Priors
tau_proc ~ dgamma(a_proc,r_proc)
tau_obs ~ dgamma(a_obs, r_obs)
}
#monitor# tau_proc, tau_obs, mu

######################################################################################################
######################################################################################################
#### Initial values 
######################################################################################################
######################################################################################################

inits{
".RNG.state" <- c(2071071578, 350699412)
"mu" <- structure(c(-4.95509975085146, -5.07518256822439, -5.05408882477, -5.08881828889415, -5.05368960729177, -4.99252974475937, -4.55642322716327, -4.03464103631322, -5.28990947688893, -4.44281771386534, -4.86228209378905, -4.49738137852959, -4.95698424174992, -4.15201050285454, -4.35778624454949, -2.79973182164091, -4.57261020210438, -3.776450633858, -3.68197666046492, -3.03825143814369, -4.98768461085493, -2.31923913370567, -4.4770308119966, -2.3367074332975, -3.27842870719649, -1.91611533598234, -4.80795732414535, -3.4926337358815, -3.52809533464552, -1.87662678052597, -4.49879462992028, -1.48255829532451, -5.27811221330948, -3.22358663533343, -3.58441448690299, 0.398193198758737, -2.60513649241771, -2.01691716798377, -3.90156324039876, -2.13361397665997, -3.69579087990827, -0.096296314524295, -2.30914751082053, -1.38816185433535, -2.5369672553939, -0.339669225322411, -2.80897908307901, 0.0103099281336279, -0.880158263548706, -1.03877169570218, -1.47100974958707, -0.789173828462629, -2.54162021769331, 0.620410775413966, -1.37296259679684, 0.0267610185023235, -1.54164755422057, 0.373055095951229, -1.73392980726336, 1.31192523568869, -1.28959851479494, 1.20970983724462, -1.54031104212565, 0.948328073355402, -0.471490143754129, 0.263786536724744, -1.54451127964537, 2.25427071403786, -1.43589998090175, 0.6001174115147, -0.918498553399447, 0.582182023134547, -0.814613160692691, 2.67943482413266, -0.777798666434785, -0.999846651135524, 0.0566072881438714, 0.971874630541903, -0.723895584514348, 0.732735150963594, -0.925455742463767, -1.25195290134824, -0.194815584989186, 0.440186704708427, -0.229814223904676, -0.360029855031127, -0.262256104977436, -0.575709602885374, 0.727782605724766, 0.661723257599888, 0.518158149666316, -0.706551741904031, -0.935935798453299, -0.702473852871811, 0.763196317784139, 0.0890348060717452, 0.0429737242482129, -1.12712120738219, -2.5899767257326, -1.79690141764424, 1.30374400321121, 0.446385963080606, -0.991964047501071, -2.67621843068049, -3.03782325254432, -2.42582185447826, 0.908882636630961, -0.907182731121477, -1.12352170669727, -3.70640567995622, -3.97835194893589, -3.14720207920561, 0.226297959800627, -2.55691191367882, -1.75060696507184, -2.74831390906726, -4.76827326905063, -3.97430088602878, -0.430407977273211, -1.97316222458605), .Dim = c(6, 20))
"tau_obs" <- 0.79379156260808
"tau_proc" <- 1.42588614163593
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Marsaglia-Multicarry"
}

inits{
".RNG.state" <- c(-271376446, 232968627)
"mu" <- structure(c(-4.85777994843137, -4.98213843493201, -5.00310197108153, -4.89999435797548, -5.106288040397, -5.10540145547617, -4.07604753143448, -3.19240329745619, -5.08771528787528, -5.48778725785722, -5.83303776411742, -4.78727297761889, -3.95011462867111, -4.51521778535929, -7.80879626981168, -3.58294817766216, -5.38639976182524, -5.66516565009177, -3.87992539764217, -2.90322688580826, -6.17328685918256, -1.55713246149741, -3.72233776553641, -2.34685361365356, -4.14440206470879, -3.02796743561882, -5.799485504242, -1.12374401022945, -3.98487238267225, -1.36809279931254, -4.43215932902142, 0.120628117927304, -5.49280333170071, -3.90535395049837, -2.72100353707257, 0.499783504874282, -2.46676681054845, -1.99170331386591, -5.45882679033951, -1.93001135442959, -1.29287036714875, 0.714963030058385, -0.724276830581524, -1.95240278152801, -1.68147776939315, -2.26004846809754, -2.00510768026484, 0.567343924056399, 0.548742543879235, -0.686930108142576, -1.41300018258605, -0.833956472514586, -2.47323799813553, 0.153638946156595, 0.117301667324569, -1.07395306227044, -1.12740612955139, -0.386088987724078, -1.23295976052433, 0.766805857254955, -1.19819900357152, 1.51475200539214, 0.237061448332091, -1.41768407556132, -0.802011553235416, 0.487760249599099, -2.19930462445755, 3.10608343238753, -1.19998389910764, -0.155531295128251, -2.45930290882763, -0.617485332444585, 1.21050658747689, 4.16530165211918, 0.440722692970193, -1.10870878316294, -0.486216909744524, 0.129663282571884, -0.593171204353937, 1.61739643750546, 1.53796793904084, -0.559327533748454, 0.236389916267848, -1.08391007537064, -0.0621857818642838, -0.966170639680607, 0.539516441504305, -0.115205335802381, 1.37157101011143, 0.249312160883922, -1.54128429121146, -0.0226249444930342, -0.322524195610275, -1.06036965382148, 1.52894350830745, -1.38964465796346, -1.9284505004401, -2.94532898578515, -2.9156355559289, -0.693683488758801, 2.33565922729427, 0.128377324269906, 0.731875120542623, -4.69132457475847, -4.15707723306927, -1.50944219150938, 2.91288376819255, -2.68963145090948, 1.85124862636219, -4.0453455689752, -4.68981425326048, -4.50774727919038, -0.509061686297957, -3.86282477549357, 0.278938023091326, -3.69799523744569, -5.48317168805825, -3.62399548087665, -2.3614602912713, -2.47344747596524), .Dim = c(6, 20))
"tau_obs" <- 1.804307153995
"tau_proc" <- 0.45855618580995
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Super-Duper"
}

inits{
".RNG.state" <- c(385, 960823951, -357335293, 681190598, 1567772491, 1789441234, -434993944, 1693080563, 1159746538, -2020581679, -2146081960, -1012647799, -2065240933, -1900698208, -1884488655, -762594049, -712803461, -936527694, -2128393073, 1271576245, 2110816645, -579042791, -404967841, -1348945353, 759952098, 1208835128, 1424438260, -377005022, -2046868780, -210911595, -1591584786, -754017263, 857767297, -243331820, -761407115, -856287462, 333558641, -1902352578, -1879999192, 925110824, -1139798126, -1732273271, 920528556, 977991476, -1093144842, -535918651, -806715534, -360164141, -2082586172, 57303102, -2091676186, 309823265, -1207088471, -1720927090, 827432139, 1295987885, 517045788, 503310111, 1000079599, -165695523, 869055782, 572633223, 1099486031, 1004744278, -1715055637, 1289590536, -1912418442, -1984289739, -1544552897, 898999461, -1203355478, 24877747, 936969328, 1832183695, 1946140291, 50734347, -27051540, -498672006, -2097800831, -111248116, -192564048, -1765726280, -216452262, 710145434, 133814870, 258083735, 1004934364, 1704881628, -23298434, -1891609811, 930589524, -1343702717, -653142536, -1606086427, 1465035225, 161051692, -278560479, -1504831023, -458501252, 1457637171, 1750076997, -1631989296, -669605974, -2040138839, -179569692, -1610006803, 20125623, -378754517, 556841156, 2130818376, -1695390102, 2047863242, 60983807, 947465441, 1082072475, 941987830, -2090053419, -1289070177, 803088094, 2055248901, 1553303414, -513749442, -393587051, -557682481, -1261363475, -186043577, -49101469, -412789552, 1313918473, -2017147450, 640919863, 46800709, 1041292885, -245556572, 817466143, -315127162, -318846807, 281794846, 306013826, 778393356, -1906723170, 2039763620, 1082158707, 1135301887, -1209424480, -162927671, 745930187, 336014059, -984945209, -554540665, -1947126993, -840429018, -1231995572, -849231902, 868025207, 598470139, -323283602, 951847798, 929255969, 502883881, 659799004, -1364794122, 1019133561, 1042116231, 923107382, 2050418260, 920792507, -1324712931, -1844626654, -1928279152, -1088064476, 1510620611, 1978949995, 1394414943, -2117664754, -424006205, -1615988386, 1529684910, -1375789282, -345305914, 742773431, -734502015, 930407045, -1798986819, -572823770, -1451690877, -1374502820, 863403693, -440422403, -34625285, -1116589604, 323236096, 550453147, -1013446730, -1639916209, 362425629, -1447134909, -721592191, 869762885, 980065344, -238282937, 322063239, 911253519, -536947713, 332600259, 1937743077, 959775304, 921961055, -1022827180, 1012465576, 3430350, 1438366280, 311526020, 822775159, -264773287, 820036800, -606482002, 1343166724, -61360559, 971302574, 1536525951, -1439781455, -595767825, 967382679, 74285446, 1010990478, -1631959979, 1121715507, -127688709, 779726091, 2074463290, 1698703140, -2102322017, 2115681539, 379058083, 966872649, 901982732, -1294148031, -1375662442, 1533942259, 1481488517, 469826769, -111471886, 1952396621, 2060270164, -1946016336, -343288387, 1961348716, -922158590, 563480508, 1727329025, -1856692093, -1363023476, 414325209, -1100440317, 743040575, 1428130050, 244483950, -1200222248, 998200162, 1569689306, -648478164, 1058134839, 1904839210, -1673928686, -535894088, -704954733, 49646192, -1308441921, -518298922, 662350657, -1654067777, -1074511261, 491168155, -505741805, 1285414750, -903632953, -627712298, -1517173720, -1341327783, 1567906549, 263682898, -577209842, 368449871, 1312697604, -2099588829, -887276581, -987818092, 693942292, 1668312160, -564430863, -888460047, -794057693, -1028377850, 1015635954, 1260875959, 541646258, -730908259, 1590251264, 1639313591, -614382620, -1093547423, 1441239480, 695823543, -408652478, -123948427, 1573198175, 767865748, -108608857, -19119037, 812090879, -1246422474, -1860431027, 127824175, -1956404855, -1873632193, 1287194354, 1142533633, 574240012, 585346558, -2133318680, 1409999699, 1213944500, -1720288888, 2052449038, -501171223, 1084389749, -2000119808, -870676037, 489278753, 381898310, -1540787531, 659358572, -828839552, -1443428878, 656386402, -879514194, -473008530, 135171040, -818848755, 1353679780, -487919526, -1555751411, 995562290, 927212957, -851960740, -109052209, -1954050686, -150386667, -546264072, 1380319962, 425715835, 625153406, -459318161, -498595457, -1095856662, 2143340583, 302148872, 1054258808, -1128297235, -186694968, -363647538, -866080752, 224627574, -1734551810, -1303784795, -2043054296, 191458813, 1988528196, 899433958, -202140230, 1657861223, -1246607957, -59018212, 244062461, 802545736, -1664518158, 1015629603, 508964891, -1669615919, 1439619893, 360544316, -52603842, -392953725, -1585774606, 63788923, 1070465857, 1573570526, 1949056570, -1943106510, -270023772, 1049516218, 1702342231, 128002021, 1123863101, 1717983056, -357400313, -1929397053, 423826952, -988295933, 788660178, 303714438, -118421607, -238215211, -1969008103, 747413045, 1048906484, -759643842, -866901266, -107629021, 1860381662, -972669652, 545782289, -13423797, 1572221034, 526325004, 24090683, 1549269211, 1632122440, 214879044, -1814168560, -113628317, 524126271, -174258826, 265163293, -805997947, -1375960386, 2113468133, 1203013596, -1627585169, 779821851, -425523444, 1880456357, 90402843, -1576797617, 1203171377, -1142818121, 1373628287, 1074782573, 303373580, -933548604, 845799683, -2006145719, 1161825768, -337350449, -1343651618, 1674977971, -1212578934, 1919833468, 771254504, 900048690, -785002245, -742234022, 1323600286, 1886840851, 778766001, 2086494734, -1775232856, -1822608758, -878612806, 461799426, -1304427407, -716333049, -2018776676, -295941991, -85282593, -362933628, 972424394, 417972185, 782557571, 368202213, -2097161740, 55218414, 1729309793, -2075564564, 728517564, -725872177, 583877029, -1965048843, -292036960, 1281240577, 924093470, -2088836144, 1652078510, -1352858718, 1388995207, 1383277192, 665593306, 2018447603, -252581941, 430702432, 517987089, -1930622449, 2052689909, 1707822534, 121106711, 29756342, 1813636580, 1310349025, -1073929273, -2004647956, -1140383336, -988889047, -714587654, 232252328, 2073840416, 1136834834, -1626924583, 1910886079, -1451110539, 1277082779, 586370244, 60813582, -999687297, 785401911, -1489180916, 406162617, 459143297, -1470631085, -24676953, 1614818297, 1218535959, -135416507, 1249633780, 305489297, 1372948009, -1864823074, -650327971, -840293558, -1527549449, 179094042, -592836715, 595731108, 1094829481, 1873483545, -1892238005, 1736593478, -972342466, -2047209382, -1511047592, -2104329339, 1508042360, 1084639511, 584356038, -556583514, -1832402293, 799819589, -1958736086, -963168451, 1981610371, 1797915259, -1829019360, -1178648057, -603041582, 117128639, 756131065, -742687758, -1607671445, -425136078, 1457645298, -854707250, 1269607045, -229289425, 83425854, 1756550631, 1019632341, 1632772681, -533869539, -1381177256, 1291568725, 348901079, 1734092779, -1905404506, 2109087657, 2035378384, 1564670958, -350419164, 1802053649, -1674930364, 1921046159, -1565144575, 1829421678, 1233043298, 324306585, -178526453, -175755652, 1946066718, 709133051, 1728839395, 1452775177, -1594242997, 1000401206, -1254122028, 1658765817, 1076833651, -246596638, -828211868, 1238498825, 103992394, 1539327287, -919113792, -1874116687, 1239074847, 641915513, 134097270, 50428317, 768222480, 1215179024, -879981881, 1569975844, 1625235379, -1157076423, -1969745727, -1343935405, -362564177, 297583384, 414991031, -11078609, 1291904681, 1778400696, -1331069951, 628578375, 186402354, -1827474895, 156601691)
"mu" <- structure(c(-4.85149905037435, -4.96488941513908, -5.12195806372996, -4.98955468041199, -4.76304854132659, -4.9852931334677, -4.36152287900289, -3.94433433303989, -4.43271016005993, -6.28155160652234, -5.44176891415133, -4.68647032192409, -4.25333989686127, -4.55916666789941, -5.84663125309884, -2.98762470284496, -5.64711872986724, -5.76719182151517, -3.63280392558028, -3.51997746682308, -5.44479732195888, -2.29605712697773, -4.8854938114665, -3.31532993598379, -4.33303028100782, -1.84794614623856, -4.68621262133025, -1.55923144859615, -4.40806104426438, -1.774456334957, -4.39602850615043, -0.618348306040942, -5.39533304151894, -4.14923518315284, -3.73466429468078, -0.0455063279263623, -2.62616089738184, -2.60771101018708, -4.29937191331489, -1.6994660224577, -2.87798533844297, 0.246820810353348, -1.79445796549948, -2.67913551210895, -1.27007862357506, -1.8912787244755, -2.36208977170661, 0.671755099428412, -0.784205179536042, -1.00968985884871, -1.55293042115875, -1.31275041701583, -2.59225720098116, 0.74467032147267, -0.352443221860515, -1.12237629915504, -0.729659906139496, -0.204350371400406, -0.611228297957391, -0.334933968994105, -0.74057559844512, 1.8477912862211, -0.327086502293759, -0.122995191089868, -1.45994306788168, -0.108685846497352, -2.22284924976616, 3.13716081500094, -1.88742340113018, -0.123117077319686, 0.0692573711702282, -0.465775429374001, 0.117012575285704, 3.32587641859756, 1.0638793316675, -0.847119425157254, 1.14221803639866, -0.205000252120755, -0.346724663860456, 1.31800016416224, 1.2286942203378, -1.54620362543699, 0.742882478884547, -0.717178452019962, 0.0788145072308782, -0.522078334794433, 1.14254589872833, -0.961607578031908, 0.959091280418886, -0.290100570714145, -0.56785582239141, -1.14516946747732, -0.116677329387499, 0.199900384871447, 0.974464563544321, -0.747290421705783, -2.28082033713419, -3.06461507355991, -2.18388584698691, -0.412331968733952, 1.73352624039272, -0.0198677344915279, 1.41328636134113, -2.80889214204677, -3.9158949879104, -1.31582663421083, 2.93434291874642, -1.82304504114365, 0.968638033092794, -3.52485722235906, -4.98916083415679, -2.76422028289427, 0.167737774112751, -2.00153424838229, -0.04191086788475, -4.1741283439603, -6.13951557255098, -2.98604755098474, -0.456577175948787, -2.45229283712521), .Dim = c(6, 20))
"tau_obs" <- 1.92062947793684
"tau_proc" <- 0.63066455992344
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -5, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Mersenne-Twister"
}



######################################################################################################
######################################################################################################
#### Data 
######################################################################################################
######################################################################################################

data{
"y" <- structure(c(-4.06591991745718, -2.94665209430014, -5.80914299031403, -5.80914299031403, -5.80914299031403, -5.80914299031403, -4.59783674154387, -1.88686814833501, -4.59783674154387, -5.80914299031403, -5.80914299031403, -4.59783674154387, NA, -4.06591991745718, -5.80914299031403, -2.94665209430014, -5.80914299031403, -5.80914299031403, -3.26053097886945, -3.72054301540761, -5.80914299031403, -1.93466900116998, -3.72054301540761, -1.98486998368036, -4.06591991745718, -2.60726358981506, -4.59783674154387, -0.668845883547919, -3.72054301540761, -1.47248282297889, -5.80914299031403, 0.655974922329534, -5.80914299031403, -4.59783674154387, -3.72054301540761, 0.281988862342713, -2.51565896414186, -2.70811366311588, -5.80914299031403, -1.18037030439171, -2.70811366311588, 1.31661982654987, -1.53614971441768, -2.82028710501947, -1.53614971441768, -2.15263466474332, -2.60726358981506, -0.0653754237762429, -0.589253733521219, -0.711150923698861, -1.8412483567478, -1.25195872848308, -2.51565896414186, 0.543420073956604, -0.211473338919426, -2.21545316410442, -1.47248282297889, -0.696849461552251, -1.01127799732093, 0.265852896722762, -1.03091569138165, 2.75676687558721, -0.168704041457194, -0.382628870687186, -0.615086916013517, 0.535170022761435, -2.60726358981506, 3.57821555646438, -1.75581432451179, 0.163154257134424, -0.833582703939862, -0.53950714937723, 1.18076288241878, 3.79205461642565, 1.4123738990455, -1.8412483567478, -0.60208690792214, 0.8962786165969, -0.013864711444381, 1.55353770544924, 0.869955466752787, -1.27700755822547, 1.06823942041139, -1.18037030439171, -0.576583164939999, -0.696849461552251, 0.0554034869116419, -0.382628870687186, 0.462152453642488, 0.138825724259713, -1.32906996434575, -0.900920880514602, -0.770494290290964, -0.56407113301186, 1.43788878016486, -0.900920880514602, -2.28248391223017, -1.88686814833501, -2.82028710501947, -0.43587591418692, 2.24561904248638, 0.677760368893093, 1.5185224738127, -2.94665209430014, -4.06591991745718, -1.1135661849228, 4.40231277434833, -2.28248391223017, NA, -4.06591991745718, -5.80914299031403, -3.72054301540761, -0.770494290290964, -4.06591991745718, -0.274600501197854, -3.09132676577126, -5.80914299031403, -3.46431559990757, -1.44210761092232, -2.0377249228153), .Dim = c(6, 20))
"year_no" <- c(1, 2, 3, 4, 5, 6)
"season_weeks" <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20)
"x_ic" <- -5
"tau_ic" <- 100
"a_proc" <- 0.001
"r_proc" <- 0.001
"a_obs" <- 0.001
"r_obs" <- 0.001


}

######################################################################################################
######################################################################################################
