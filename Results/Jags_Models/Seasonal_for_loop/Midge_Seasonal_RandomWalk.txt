######################################################################################################
######################################################################################################
#### JAGS model file written by runjags version 2.0.4-2 on 2019-08-16 09:54:09 
######################################################################################################
######################################################################################################

model{
for(k in 1:max(year_no)){
for(j in 1:max(season_weeks)){
#this fits the blended model to your observed data. 
y[k,j] ~ dnorm(mu[k,j],tau_obs)
}
#### Process Model
for(j in 2:max(season_weeks)){
mu[k,j]~dnorm(mu[k,j-1],tau_proc) 
}
#Loops through number of years and defines prior for each year
mu[k,1] ~ dnorm(x_ic,tau_ic) #keep in mind you'll need to index like a matrix 
}
#### Priors
tau_proc ~ dgamma(a_proc,r_proc)
tau_obs ~ dgamma(a_obs, r_obs)
}
#monitor# tau_proc, tau_obs, mu

######################################################################################################
######################################################################################################
#### Initial values 
######################################################################################################
######################################################################################################

inits{
".RNG.state" <- c(435, -998801510, -1195666498, -1919595417, -1680325405, 1830432478, 127978830, 394295351, 1699457266, -1701935527, 615646732, -430637312, 1314030900, 1444476020, -832668484, -1593823598, 1000133264, 1964398466, 729691894, -548169764, -1205991087, 1888023629, 1841606381, -816995816, -532087966, -806583290, -925434287, -410135812, -1646578236, -1286354066, 383579273, 1821251966, 557746706, -1677939841, 692272214, -1401046396, 752419909, -2072844863, 39046803, 1933642248, 1133133502, -666587816, -232757755, 1695940510, 803728714, 450906301, 1381702882, 1424602558, 101073704, 876510215, -1116477146, 1320072407, 1384560342, -765650769, 240213904, -927125490, 1979207485, 1486141131, 1711829203, -1357198406, -441677358, 639970941, 1374776760, -490811807, 1150482733, 38246517, -1640811143, -1433399153, 987972833, 1196686798, -1187014469, -1179883209, -233509503, -234190657, -432655383, -676827200, -1536947195, -670763391, 1107288544, 2128303476, -480031442, -610236409, -1223670139, 1132006878, -316345116, -1215152968, -2037345553, -251075226, -486327457, 1077156361, -1239661034, 1798323876, -1458873081, -1157344230, -2077624678, 539218414, 1475384305, -2119025176, 1207257187, -2032047958, 1989880534, -2120636774, -1073482744, -1385570383, -1149478154, -1039291458, -706755599, 826328267, 1162708934, -521361026, 1748873462, -1397864692, 1139402398, 417082538, 330734477, -931505844, -1093243116, 1280807649, -1380177906, -203461492, 1123572203, -1514582824, 4640535, 1675373101, -1292374814, -1496077974, 462401158, -280632871, 224746377, -1591490276, -741759598, 944990496, 1619634333, -1438178834, 2128717014, 487431235, -208243492, -1612805404, -2128954002, -1020411753, -593473683, -993620141, -1410397536, -1405928834, -1210616030, 2002978711, -976289017, 1499190331, -1700753639, 1693664878, 1626096292, 2030865842, -2024948467, 208267282, 2126322726, 142213023, 1363101727, 1684006890, 1679327380, -71164532, -703137657, 2042837773, 311018147, 1700364125, -1253506980, 1010436814, 1045035061, -1682570360, -180765554, -728863519, 861393344, 1308628095, -1906270864, 1475380677, 156029970, -270709264, 887314823, 1462528862, -530751537, 2036580310, -224633632, -328224480, 788311, 144961130, 463645869, -92025360, -462300066, 2005350086, 181157971, 84201422, -792104870, -912764300, 1613505485, 1656111693, 381078464, 1317682074, 580733415, -1017112299, -1018541015, 1004367607, 1084595566, -1878048130, 159102563, -1306631128, 1929969389, 1702519885, -1000596685, -2123743653, 986225581, -23312154, 158243797, -750265458, 1441582715, -1878007307, 1742213200, -1996598144, 307661524, 1366533020, 71305242, 358484101, -1626269842, 2106708858, 1994357288, 383443837, 1194050284, 1513654851, 2064229854, 629862039, -824553025, -731061163, 497694738, 1093634069, -88053522, -1374936301, -2099748654, 1970693793, 1747404423, -2146223025, 1114881311, -111977546, 260498703, 1539569989, -2057692231, -1016355856, -267862256, -29506651, 1079085796, 408210317, 1971869835, -2030808983, 128051776, -1345397762, -13332517, -404112420, -1613811877, 1757063911, 240295413, 2106061748, -1906475392, -1154346489, 107424651, -2067048279, -1934696901, 353081011, -1397093827, -2097937942, -1793475904, -714402925, 1195712916, 1296544776, -1950548883, 387014998, 1912367634, -2117295743, -2101087708, -1763541572, -1709335320, -2000068986, -499103023, 1782034625, 469665717, -1569003711, 300686148, 1950786181, 590717468, -707167929, -660610835, 1725209363, -1055558473, 1326032428, 1777171674, 107288735, 1128295224, 981700022, 364072349, 174615487, 1404942095, -613524556, 1315284733, -2007199861, 1382745959, -1240167561, -76847827, -1624853311, -543731309, -1743604720, 1007937204, -1090107974, 198168611, -1024604074, -599715484, 873448403, 1592692411, 251227779, 829414206, 1494419260, -518825736, 441447596, 854056823, -1867908602, 750150870, -25305494, -2079680941, -721346067, -660338190, 966565672, 618587494, 634354585, -833694607, -1279579496, -56099197, 1954616329, 47121677, -119134523, -1360621582, -113931261, 247192399, -1372664694, -1111327801, 617899399, -525767677, -947043026, 1471060332, 803055883, 1501639399, -315425762, 2080890278, 1145217692, -2066115682, -736051204, -189339049, -1287564666, 729166340, -1968968762, -1837015869, 352149912, 426819073, -1046442766, 632537283, 1978304403, 572198158, -440013577, -1965019434, 1293129200, 1068745366, 194890146, 39028715, -1347964532, 406317229, -1120249964, -414269330, -1575442361, 1660815656, -396455772, -1562473976, 1768052976, -1765148044, 971341853, 1268547870, 290997387, -1136192236, 115503367, 1092989123, -225334156, -1724201233, -1625480610, -1057187273, -2047422282, 1135256625, 1024248502, 2112973397, -508047487, 1845726311, -1316459278, 1777152793, 947047755, 104585723, -1978046955, 53082814, -1368239741, 1490282741, 2143657482, 1371147799, -980508153, -734310166, 510540307, -96153571, -1814784481, -581151192, 843461827, -467199392, 232521501, -1956389993, -816042528, 1296691624, -1598253135, 1116158198, 285870380, -332345163, 1533741187, 1679695356, -748290970, 1957744442, -647306568, 709529918, -163730393, -91661860, -111919604, 1608602273, 1172305403, 1833046733, -720130796, -160159117, -1865204468, -1449317777, -1613824310, -731761043, 933688380, 1365125209, -1993509762, 1841074863, 581868358, 211937076, -97920780, 533035005, -98942353, 1347037407, -2129524920, -199080372, -1834507486, 191625040, -769115610, 534503864, 1659431860, 1015487952, -1100875220, -1676487463, 1919000822, -1935127432, -1962340360, 559025330, 886853145, -488441972, 484437060, 697158627, 155113161, 1784188962, 968383155, 1384024384, 1140786257, 1008635026, -886982790, -1047849715, -2121379704, -1338848637, -321925957, -1562857290, 1221579625, 1361785272, 929445188, 689703054, 858682755, 2076373434, -833210819, -1128465283, -637807176, 1399318013, 1275379071, -439259267, -80044506, 1102758047, 894467991, 1629664713, 1654781315, 891340779, -268522695, 214560240, 1594480174, 1122600329, 456137896, -2651902, -1856412791, 1776681542, -684304989, 232375954, 941795311, 1806441122, 1583429747, 789145161, -371399265, -2138004058, -669561931, 529545254, -522993728, 218541134, -2051186209, -1851915669, 1930201540, 1621431405, -1370296767, -1750233204, 401335629, -469029262, 1938940989, -1329095113, -1360976468, 2046392126, -1683753207, -2040911805, -37594166, -537563839, -580840968, 157916888, 1425178293, 1666878850, 523275168, 1437296951, 1475314847, 1473422104, -1889630513, 9040105, 694870927, -147465641, -366062788, -1903745153, -687627374, 1284662504, -1970580717, 1307590956, -2107448210, 542892624, -137332786, 1279704555, -1851256933, -794942731, 111487257, 588053908, -741893108, 2104126102, -308745767, 365547213, -1465093796, 1938322628, 17724070, -512175817, 253561236, 1428884107, 44538371, 1897248550, -900916674, -1967243475, -384269283, -769907628, -1139319545, -512701101, 913120029, 556168385, -373773870, -1944095129, 1332787688, 650773485, -255732057, 1946628918, 1559689327, 974985025, -1095873242, -749234736, 870766637, 1632574341, 401674193, 566087008, 994716877, -941601131, 1782570862, -1041151581, 1927772429, -1252658431, -1106775767, 1971329247, -1519726292, -883005431, -457247430, -1002246709, 727971201, 1619737324, -955998598, 974071533, 1813635254, 84182178, 863045161, 188828630, -2018838410, -858660416, 1598733315, 537387635, -1473357006, 1067762434, -1810052387, 444636489, -2138457537, -700567452, -1633853379, -1123587652, -2018727746, -400369192)
"mu" <- structure(c(-4.47280471318056, -2.89621312710932, -4.97268129191932, -5.47522698057798, -5.46243429919616, -5.3431642134082, -3.91965679462127, -1.95024277262627, -4.29236797772631, -5.34134191423031, -5.43133686744064, -4.46776175133615, -3.11248530892063, -4.07550769204832, -6.03184573277615, -3.22319843243785, -5.68817998997785, -5.52937692772165, -2.95351352646808, -4.05102102140811, -5.57883606039443, -2.27168065384002, -4.1737179321212, -1.68071370374415, -4.07391589030788, -2.0462215508884, -5.57365707545176, -0.729931464040148, -3.93285816540694, -1.63189908652061, -5.53171080965061, 0.194566433758071, -6.11860124590175, -3.99523228075394, -3.71563686233409, 0.412698865163016, -2.66241430625786, -2.77604617428026, -5.23504383178079, -1.82496130087965, -2.69000609208519, 0.644089832450238, -0.791504684979838, -2.94049240521492, -1.29568338150214, -2.50213884294898, -2.93328166849288, 0.43603844036807, -0.496885844422949, -0.809048443026623, -2.10698085451577, -0.80072637591796, -2.29292761629206, 0.621232331275917, -0.497604701206005, -1.53768872529254, -1.80313266214762, -0.47962548766812, -1.16465839794502, 0.0486660612702217, -1.26940309103538, 2.59487156445611, -0.212446804877123, -0.189911258235582, -0.248285039329969, 0.474828968612562, -2.7572404620945, 3.87890027614186, -1.11669619976023, -0.318495706819079, -1.19651538377915, -0.510047284995087, 0.699870272752518, 3.66912547970081, 1.52422166677838, -1.70713324031639, -0.00127348683351908, 0.837793590924596, -0.382451075842045, 1.85823254929232, 1.02447599619575, -0.802271673219251, 1.34864485758634, -0.429894997870536, -1.03818398659956, -0.528221616095704, 0.813865638496667, -0.75565138197697, -0.0334819336587322, -0.262775063288716, -1.23620698254766, -1.31450891721583, -1.29503043255479, -1.78047834764861, 1.17985640879746, -1.20583226574085, -1.46471451559574, -1.71822977366597, -3.81893589357669, -0.0676021601376976, 2.45591740686236, 0.444197723559417, 1.34187558971859, -2.66866879145155, -4.52462837850245, -0.814129107029322, 4.40157369525056, -2.00019363089328, 0.720431809352872, -4.25188563323692, -5.87919877132059, -3.5159897085104, -0.916820692988756, -3.21222472965993, -0.628381415823046, -2.88883734260332, -5.60872133499922, -2.6430350483737, -1.32748947311929, -1.2608598084987), .Dim = c(6, 20))
"tau_obs" <- 4.50212773457289
"tau_proc" <- 0.483153412209959
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -1, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -1, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Mersenne-Twister"
}

inits{
".RNG.state" <- c(13313, 3117, 13764)
"mu" <- structure(c(-4.28578662405236, -3.8588590660987, -5.07525509386938, -5.35763012374178, -5.78179281135039, -5.95756765578517, -3.77920131181034, -1.38138454291384, -4.5074344870155, -5.31153757947875, -5.14681706820504, -4.83639522231688, -3.22237934980966, -3.60548555508578, -4.8975253431334, -3.32877804934079, -5.6564447038483, -5.64269621113054, -2.71943388758044, -4.01206221949924, -6.50178963089458, -2.72802942112481, -3.70764117856832, -1.58207907150904, -4.44760651669282, -1.69811493785798, -4.72278813454783, -1.46762323658134, -3.03504351009884, -1.31471702189612, -4.7912126859343, 0.28689413043248, -5.71964199348621, -4.10310874412892, -3.38233522880707, -0.358693653698398, -2.84305907753895, -3.0177432365869, -4.96975326325657, -2.47329740118023, -2.76636659880534, 1.18283808400423, -1.55639227552783, -2.04316352424261, -2.29525630655507, -1.97013850828946, -2.30602811904025, -0.107820886305577, -0.876402776386873, -0.431151059627107, -1.16577543768549, -1.29113911298766, -2.36451392153288, -0.585265457894963, -0.159536515867488, -1.62017833952496, -0.750374952484812, -0.61980968216176, -2.27346293557732, 0.516705382375572, -1.07179978341382, 2.58964927140863, -0.637506614347158, -1.48451666817322, -0.677898995293961, 0.639163116467387, -1.79108451951884, 2.93096044697568, -1.17757409492078, -0.658032474007459, -0.402046236268422, -0.254145247299403, 0.632575629263002, 3.42712265555463, 0.337749939441811, -2.14503799539133, 0.220211498072862, 0.251501221905694, 0.0673781539246135, 1.29949771220449, 1.07125365763861, -1.68968772387636, 0.381415077308955, -1.48699447186928, -0.5426766949028, -0.4553107559205, 0.615329817782198, -1.09452080332515, 1.23854068955136, -0.439993223890617, -1.34285858763181, -0.619274427395671, -0.352151834115092, -0.964403103556094, 1.29280405020381, -0.285499705643377, -1.8705976263191, -2.05664393598611, -3.07276209264776, -1.02570612509729, 2.03070310667757, 0.695142229424559, 1.51440498869858, -3.12630507978532, -4.084070293838, -1.2921046101822, 3.55294526755223, -2.10490934104656, 0.0903503065939384, -4.06332257438818, -4.47303764028009, -3.50123510109469, -0.362240445863142, -3.23926364884988, 0.111177090190628, -2.58274264775263, -4.73236732334709, -3.05345898359111, -0.933045692395235, -1.82061937310113), .Dim = c(6, 20))
"tau_obs" <- 3.33155149872151
"tau_proc" <- 0.522038081716717
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -1, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -1, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Wichmann-Hill"
}

inits{
".RNG.state" <- c(1664839754, 820104430)
"mu" <- structure(c(-3.64591630119185, -1.98115565832375, -4.97743729167407, -5.01178309883492, -5.46780920065537, -5.1601148592171, -3.66522329056949, -3.59155166818133, -5.0840177871796, -4.9003170327347, -4.87874778672074, -5.18444324025024, -1.8197254489862, -5.07366514783394, -5.42293449873798, -2.08719474095205, -5.94148116622902, -4.31998426549283, -2.22761121838788, -3.60429208388329, -4.78819993455553, -1.50751369783281, -4.62824799844297, -1.61121784068677, -3.49037295987664, -3.03683703394179, -3.80363326405262, -2.21777383556037, -4.95817865806754, -0.923576904899239, -4.37232088249748, -2.65736630159379, -4.4633542374415, -2.74894741476583, -4.27739319211989, -0.708452801779203, -3.05512316965417, -2.96271151769528, -5.78694779810736, -0.515704407289587, -2.25211539941608, 0.602173249072004, -1.75452416658891, -1.58161448324353, -2.98514082894449, -1.34525691973004, -2.23825971347707, -0.512986873207847, -1.49841697734962, -1.57553735326243, -1.84013695051531, -1.42839967788819, -1.2993021659204, -0.175145032382996, -0.179129077884061, -1.4262424495466, -2.08292742138797, -0.65547567606485, -1.3445293449505, 0.84467689209526, -1.35013390327169, 1.37907366500232, -0.968621574801524, -0.80206946574894, -0.284748919576026, 0.210969640569935, -1.53361750056968, 2.9748698151346, -0.815786431456223, 0.58560377974995, -1.02550916494155, -0.0801754787746256, 0.517635124075636, 1.469044331949, 1.46068337750303, -1.54026525509897, -0.405293255642091, -0.382917433166332, 0.551217047773093, -0.468450805286592, 0.260478191092904, -1.19329818918062, 1.19909704491961, 0.386768015898492, -0.777475208824939, -0.325300946740188, 0.258818317375321, -0.844787665165105, 1.91429829184118, 0.0524732478349915, -1.1231574366604, -1.72630607912079, -1.14406448411385, -1.17832622812071, 1.96659341085779, -0.16262586014696, -1.59277912490215, -2.53862538990136, -1.47740246008489, -0.0261336503358066, 1.56018526493255, -1.41980586567574, -0.481530687462162, -2.09140563196033, -2.93846363386674, -1.61511941310884, 1.74376989837939, -1.7047614947512, -0.207659621998299, -4.35892709109164, -5.20316891654077, -3.52840714847645, 0.233757149532362, -3.93123188923067, -0.0861060456041567, -4.03559714199957, -5.61534060883919, -1.84928468880539, -0.274035093226023, -2.72455792396561), .Dim = c(6, 20))
"tau_obs" <- 1.17102301712472
"tau_proc" <- 0.79910646564771
"y" <- structure(c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -1, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, -1, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA), .Dim = c(6, 20))
".RNG.name" <- "base::Marsaglia-Multicarry"
}



######################################################################################################
######################################################################################################
#### Data 
######################################################################################################
######################################################################################################

data{
"y" <- structure(c(-4.06591991745718, -2.94665209430014, -5.80914299031403, -5.80914299031403, -5.80914299031403, -5.80914299031403, -4.59783674154387, -1.88686814833501, -4.59783674154387, -5.80914299031403, -5.80914299031403, -4.59783674154387, NA, -4.06591991745718, -5.80914299031403, -2.94665209430014, -5.80914299031403, -5.80914299031403, -3.26053097886945, -3.72054301540761, -5.80914299031403, -1.93466900116998, -3.72054301540761, -1.98486998368036, -4.06591991745718, -2.60726358981506, -4.59783674154387, -0.668845883547919, -3.72054301540761, -1.47248282297889, -5.80914299031403, 0.655974922329534, -5.80914299031403, -4.59783674154387, -3.72054301540761, 0.281988862342713, -2.51565896414186, -2.70811366311588, -5.80914299031403, -1.18037030439171, -2.70811366311588, 1.31661982654987, -1.53614971441768, -2.82028710501947, -1.53614971441768, -2.15263466474332, -2.60726358981506, -0.0653754237762429, -0.589253733521219, -0.711150923698861, -1.8412483567478, -1.25195872848308, -2.51565896414186, 0.543420073956604, -0.211473338919426, -2.21545316410442, -1.47248282297889, -0.696849461552251, -1.01127799732093, 0.265852896722762, -1.03091569138165, 2.75676687558721, -0.168704041457194, -0.382628870687186, -0.615086916013517, 0.535170022761435, -2.60726358981506, 3.57821555646438, -1.75581432451179, 0.163154257134424, -0.833582703939862, -0.53950714937723, 1.18076288241878, 3.79205461642565, 1.4123738990455, -1.8412483567478, -0.60208690792214, 0.8962786165969, -0.013864711444381, 1.55353770544924, 0.869955466752787, -1.27700755822547, 1.06823942041139, -1.18037030439171, -0.576583164939999, -0.696849461552251, 0.0554034869116419, -0.382628870687186, 0.462152453642488, 0.138825724259713, -1.32906996434575, -0.900920880514602, -0.770494290290964, -0.56407113301186, 1.43788878016486, -0.900920880514602, -2.28248391223017, -1.88686814833501, -2.82028710501947, -0.43587591418692, 2.24561904248638, 0.677760368893093, 1.5185224738127, -2.94665209430014, -4.06591991745718, -1.1135661849228, 4.40231277434833, -2.28248391223017, NA, -4.06591991745718, -5.80914299031403, -3.72054301540761, -0.770494290290964, -4.06591991745718, -0.274600501197854, -3.09132676577126, -5.80914299031403, -3.46431559990757, -1.44210761092232, -2.0377249228153), .Dim = c(6, 20))
"year_no" <- c(1, 2, 3, 4, 5, 6)
"season_weeks" <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20)
"x_ic" <- -1
"tau_ic" <- 0.1
"a_proc" <- 0.001
"r_proc" <- 0.001
"a_obs" <- 0.001
"r_obs" <- 0.001


}

######################################################################################################
######################################################################################################
